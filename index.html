<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <style>body {
    width: 45em;
    border: 1px solid #ddd;
    outline: 1300px solid #fff;
    margin: 16px auto;
  }

  body .markdown-body {
    padding: 30px;
  }

  @font-face {
    font-family: octicons-anchor;
    src: url(data:font/woff;charset=utf-8;base64,d09GRgABAAAAAAYcAA0AAAAACjQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAABMAAAABwAAAAca8vGTk9TLzIAAAFMAAAARAAAAFZG1VHVY21hcAAAAZAAAAA+AAABQgAP9AdjdnQgAAAB0AAAAAQAAAAEACICiGdhc3AAAAHUAAAACAAAAAj//wADZ2x5ZgAAAdwAAADRAAABEKyikaNoZWFkAAACsAAAAC0AAAA2AtXoA2hoZWEAAALgAAAAHAAAACQHngNFaG10eAAAAvwAAAAQAAAAEAwAACJsb2NhAAADDAAAAAoAAAAKALIAVG1heHAAAAMYAAAAHwAAACABEAB2bmFtZQAAAzgAAALBAAAFu3I9x/Nwb3N0AAAF/AAAAB0AAAAvaoFvbwAAAAEAAAAAzBdyYwAAAADP2IQvAAAAAM/bz7t4nGNgZGFgnMDAysDB1Ml0hoGBoR9CM75mMGLkYGBgYmBlZsAKAtJcUxgcPsR8iGF2+O/AEMPsznAYKMwIkgMA5REMOXicY2BgYGaAYBkGRgYQsAHyGMF8FgYFIM0ChED+h5j//yEk/3KoSgZGNgYYk4GRCUgwMaACRoZhDwCs7QgGAAAAIgKIAAAAAf//AAJ4nHWMMQrCQBBF/0zWrCCIKUQsTDCL2EXMohYGSSmorScInsRGL2DOYJe0Ntp7BK+gJ1BxF1stZvjz/v8DRghQzEc4kIgKwiAppcA9LtzKLSkdNhKFY3HF4lK69ExKslx7Xa+vPRVS43G98vG1DnkDMIBUgFN0MDXflU8tbaZOUkXUH0+U27RoRpOIyCKjbMCVejwypzJJG4jIwb43rfl6wbwanocrJm9XFYfskuVC5K/TPyczNU7b84CXcbxks1Un6H6tLH9vf2LRnn8Ax7A5WQAAAHicY2BkYGAA4teL1+yI57f5ysDNwgAC529f0kOmWRiYVgEpDgYmEA8AUzEKsQAAAHicY2BkYGB2+O/AEMPCAAJAkpEBFbAAADgKAe0EAAAiAAAAAAQAAAAEAAAAAAAAKgAqACoAiAAAeJxjYGRgYGBhsGFgYgABEMkFhAwM/xn0QAIAD6YBhwB4nI1Ty07cMBS9QwKlQapQW3VXySvEqDCZGbGaHULiIQ1FKgjWMxknMfLEke2A+IJu+wntrt/QbVf9gG75jK577Lg8K1qQPCfnnnt8fX1NRC/pmjrk/zprC+8D7tBy9DHgBXoWfQ44Av8t4Bj4Z8CLtBL9CniJluPXASf0Lm4CXqFX8Q84dOLnMB17N4c7tBo1AS/Qi+hTwBH4rwHHwN8DXqQ30XXAS7QaLwSc0Gn8NuAVWou/gFmnjLrEaEh9GmDdDGgL3B4JsrRPDU2hTOiMSuJUIdKQQayiAth69r6akSSFqIJuA19TrzCIaY8sIoxyrNIrL//pw7A2iMygkX5vDj+G+kuoLdX4GlGK/8Lnlz6/h9MpmoO9rafrz7ILXEHHaAx95s9lsI7AHNMBWEZHULnfAXwG9/ZqdzLI08iuwRloXE8kfhXYAvE23+23DU3t626rbs8/8adv+9DWknsHp3E17oCf+Z48rvEQNZ78paYM38qfk3v/u3l3u3GXN2Dmvmvpf1Srwk3pB/VSsp512bA/GG5i2WJ7wu430yQ5K3nFGiOqgtmSB5pJVSizwaacmUZzZhXLlZTq8qGGFY2YcSkqbth6aW1tRmlaCFs2016m5qn36SbJrqosG4uMV4aP2PHBmB3tjtmgN2izkGQyLWprekbIntJFing32a5rKWCN/SdSoga45EJykyQ7asZvHQ8PTm6cslIpwyeyjbVltNikc2HTR7YKh9LBl9DADC0U/jLcBZDKrMhUBfQBvXRzLtFtjU9eNHKin0x5InTqb8lNpfKv1s1xHzTXRqgKzek/mb7nB8RZTCDhGEX3kK/8Q75AmUM/eLkfA+0Hi908Kx4eNsMgudg5GLdRD7a84npi+YxNr5i5KIbW5izXas7cHXIMAau1OueZhfj+cOcP3P8MNIWLyYOBuxL6DRylJ4cAAAB4nGNgYoAALjDJyIAOWMCiTIxMLDmZedkABtIBygAAAA==) format('woff');
  }

  .markdown-body {
    -ms-text-size-adjust: 100%;
    -webkit-text-size-adjust: 100%;
    color: #333;
    overflow: hidden;
    font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif;
    font-size: 16px;
    line-height: 1.6;
    word-wrap: break-word;
  }

  .markdown-body a {
    background: transparent;
  }

  .markdown-body a:active,
  .markdown-body a:hover {
    outline: 0;
  }

  .markdown-body strong {
    font-weight: bold;
  }

  .markdown-body h1 {
    font-size: 2em;
    margin: 0.67em 0;
  }

  .markdown-body img {
    border: 0;
  }

  .markdown-body hr {
    -moz-box-sizing: content-box;
    box-sizing: content-box;
    height: 0;
  }

  .markdown-body pre {
    overflow: auto;
  }

  .markdown-body code,
  .markdown-body kbd,
  .markdown-body pre {
    font-family: monospace, monospace;
    font-size: 1em;
  }

  .markdown-body input {
    color: inherit;
    font: inherit;
    margin: 0;
  }

  .markdown-body html input[disabled] {
    cursor: default;
  }

  .markdown-body input {
    line-height: normal;
  }

  .markdown-body input[type="checkbox"] {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    padding: 0;
  }

  .markdown-body table {
    border-collapse: collapse;
    border-spacing: 0;
  }

  .markdown-body td,
  .markdown-body th {
    padding: 0;
  }

  .markdown-body * {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
  }

  .markdown-body input {
    font: 13px/1.4 Helvetica, arial, freesans, clean, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol";
  }

  .markdown-body a {
    color: #4183c4;
    text-decoration: none;
  }

  .markdown-body a:hover,
  .markdown-body a:focus,
  .markdown-body a:active {
    text-decoration: underline;
  }

  .markdown-body hr {
    height: 0;
    margin: 15px 0;
    overflow: hidden;
    background: transparent;
    border: 0;
    border-bottom: 1px solid #ddd;
  }

  .markdown-body hr:before {
    display: table;
    content: "";
  }

  .markdown-body hr:after {
    display: table;
    clear: both;
    content: "";
  }

  .markdown-body h1,
  .markdown-body h2,
  .markdown-body h3,
  .markdown-body h4,
  .markdown-body h5,
  .markdown-body h6 {
    margin-top: 15px;
    margin-bottom: 15px;
    line-height: 1.1;
  }

  .markdown-body h1 {
    font-size: 30px;
  }

  .markdown-body h2 {
    font-size: 21px;
  }

  .markdown-body h3 {
    font-size: 16px;
  }

  .markdown-body h4 {
    font-size: 14px;
  }

  .markdown-body h5 {
    font-size: 12px;
  }

  .markdown-body h6 {
    font-size: 11px;
  }

  .markdown-body blockquote {
    margin: 0;
  }

  .markdown-body ul,
  .markdown-body ol {
    padding: 0;
    margin-top: 0;
    margin-bottom: 0;
  }

  .markdown-body ol ol,
  .markdown-body ul ol {
    list-style-type: lower-roman;
  }

  .markdown-body ul ul ol,
  .markdown-body ul ol ol,
  .markdown-body ol ul ol,
  .markdown-body ol ol ol {
    list-style-type: lower-alpha;
  }

  .markdown-body dd {
    margin-left: 0;
  }

  .markdown-body code {
    font: 12px Consolas, "Liberation Mono", Menlo, Courier, monospace;
  }

  .markdown-body pre {
    margin-top: 0;
    margin-bottom: 0;
    font: 12px Consolas, "Liberation Mono", Menlo, Courier, monospace;
  }

  .markdown-body .octicon {
    font: normal normal 16px octicons-anchor;
    line-height: 1;
    display: inline-block;
    text-decoration: none;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }

  .markdown-body .octicon-link:before {
    content: '\f05c';
  }

  .markdown-body > *:first-child {
    margin-top: 0 !important;
  }

  .markdown-body > *:last-child {
    margin-bottom: 0 !important;
  }

  .markdown-body .anchor {
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    display: block;
    padding-right: 6px;
    padding-left: 30px;
    margin-left: -30px;
  }

  .markdown-body .anchor:focus {
    outline: none;
  }

  .markdown-body h1,
  .markdown-body h2,
  .markdown-body h3,
  .markdown-body h4,
  .markdown-body h5,
  .markdown-body h6 {
    position: relative;
    margin-top: 1em;
    margin-bottom: 16px;
    font-weight: bold;
    line-height: 1.4;
  }

  .markdown-body h1 .octicon-link,
  .markdown-body h2 .octicon-link,
  .markdown-body h3 .octicon-link,
  .markdown-body h4 .octicon-link,
  .markdown-body h5 .octicon-link,
  .markdown-body h6 .octicon-link {
    display: none;
    color: #000;
    vertical-align: middle;
  }

  .markdown-body h1:hover .anchor,
  .markdown-body h2:hover .anchor,
  .markdown-body h3:hover .anchor,
  .markdown-body h4:hover .anchor,
  .markdown-body h5:hover .anchor,
  .markdown-body h6:hover .anchor {
    padding-left: 8px;
    margin-left: -30px;
    line-height: 1;
    text-decoration: none;
  }

  .markdown-body h1:hover .anchor .octicon-link,
  .markdown-body h2:hover .anchor .octicon-link,
  .markdown-body h3:hover .anchor .octicon-link,
  .markdown-body h4:hover .anchor .octicon-link,
  .markdown-body h5:hover .anchor .octicon-link,
  .markdown-body h6:hover .anchor .octicon-link {
    display: inline-block;
  }

  .markdown-body h1 {
    padding-bottom: 0.3em;
    font-size: 2.25em;
    line-height: 1.2;
    border-bottom: 1px solid #eee;
  }

  .markdown-body h2 {
    padding-bottom: 0.3em;
    font-size: 1.75em;
    line-height: 1.225;
    border-bottom: 1px solid #eee;
  }

  .markdown-body h3 {
    font-size: 1.5em;
    line-height: 1.43;
  }

  .markdown-body h4 {
    font-size: 1.25em;
  }

  .markdown-body h5 {
    font-size: 1em;
  }

  .markdown-body h6 {
    font-size: 1em;
    color: #777;
  }

  .markdown-body p,
  .markdown-body blockquote,
  .markdown-body ul,
  .markdown-body ol,
  .markdown-body dl,
  .markdown-body table,
  .markdown-body pre {
    margin-top: 0;
    margin-bottom: 16px;
  }

  .markdown-body hr {
    height: 4px;
    padding: 0;
    margin: 16px 0;
    background-color: #e7e7e7;
    border: 0 none;
  }

  .markdown-body ul,
  .markdown-body ol {
    padding-left: 2em;
  }

  .markdown-body ul ul,
  .markdown-body ul ol,
  .markdown-body ol ol,
  .markdown-body ol ul {
    margin-top: 0;
    margin-bottom: 0;
  }

  .markdown-body li > p {
    margin-top: 16px;
  }

  .markdown-body dl {
    padding: 0;
  }

  .markdown-body dl dt {
    padding: 0;
    margin-top: 16px;
    font-size: 1em;
    font-style: italic;
    font-weight: bold;
  }

  .markdown-body dl dd {
    padding: 0 16px;
    margin-bottom: 16px;
  }

  .markdown-body blockquote {
    padding: 0 15px;
    color: #777;
    border-left: 4px solid #ddd;
  }

  .markdown-body blockquote > :first-child {
    margin-top: 0;
  }

  .markdown-body blockquote > :last-child {
    margin-bottom: 0;
  }

  .markdown-body table {
    display: block;
    width: 100%;
    overflow: auto;
    word-break: normal;
    word-break: keep-all;
  }

  .markdown-body table th {
    font-weight: bold;
  }

  .markdown-body table th,
  .markdown-body table td {
    padding: 6px 13px;
    border: 1px solid #ddd;
  }

  .markdown-body table tr {
    background-color: #fff;
    border-top: 1px solid #ccc;
  }

  .markdown-body table tr:nth-child(2n) {
    background-color: #f8f8f8;
  }

  .markdown-body img {
    max-width: 100%;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
  }

  .markdown-body code {
    padding: 0;
    padding-top: 0.2em;
    padding-bottom: 0.2em;
    margin: 0;
    font-size: 85%;
    background-color: rgba(0, 0, 0, 0.04);
    border-radius: 3px;
  }

  .markdown-body code:before,
  .markdown-body code:after {
    letter-spacing: -0.2em;
    content: "\00a0";
  }

  .markdown-body pre > code {
    padding: 0;
    margin: 0;
    font-size: 100%;
    word-break: normal;
    white-space: pre;
    background: transparent;
    border: 0;
  }

  .markdown-body .highlight {
    margin-bottom: 16px;
  }

  .markdown-body .highlight pre,
  .markdown-body pre {
    padding: 16px;
    overflow: auto;
    font-size: 85%;
    line-height: 1.45;
    background-color: #f7f7f7;
    border-radius: 3px;
  }

  .markdown-body .highlight pre {
    margin-bottom: 0;
    word-break: normal;
  }

  .markdown-body pre {
    word-wrap: normal;
  }

  .markdown-body pre code {
    display: inline;
    max-width: initial;
    padding: 0;
    margin: 0;
    overflow: initial;
    line-height: inherit;
    word-wrap: normal;
    background-color: transparent;
    border: 0;
  }

  .markdown-body pre code:before,
  .markdown-body pre code:after {
    content: normal;
  }

  .markdown-body .highlight {
    background: #fff;
  }

  .markdown-body .highlight .h {
    color: #333;
    font-style: normal;
    font-weight: normal;
  }

  .markdown-body .highlight .mf,
  .markdown-body .highlight .mh,
  .markdown-body .highlight .mi,
  .markdown-body .highlight .mo,
  .markdown-body .highlight .il,
  .markdown-body .highlight .m {
    color: #945277;
  }

  .markdown-body .highlight .s,
  .markdown-body .highlight .sb,
  .markdown-body .highlight .sc,
  .markdown-body .highlight .sd,
  .markdown-body .highlight .s2,
  .markdown-body .highlight .se,
  .markdown-body .highlight .sh,
  .markdown-body .highlight .si,
  .markdown-body .highlight .sx,
  .markdown-body .highlight .s1 {
    color: #df5000;
  }

  .markdown-body .highlight .kc,
  .markdown-body .highlight .kd,
  .markdown-body .highlight .kn,
  .markdown-body .highlight .kp,
  .markdown-body .highlight .kr,
  .markdown-body .highlight .kt,
  .markdown-body .highlight .k,
  .markdown-body .highlight .o {
    font-weight: bold;
  }

  .markdown-body .highlight .kt {
    color: #458;
  }

  .markdown-body .highlight .c,
  .markdown-body .highlight .cm,
  .markdown-body .highlight .c1 {
    color: #998;
    font-style: italic;
  }

  .markdown-body .highlight .cp,
  .markdown-body .highlight .cs,
  .markdown-body .highlight .cp .h {
    color: #999;
    font-weight: bold;
  }

  .markdown-body .highlight .cs {
    font-style: italic;
  }

  .markdown-body .highlight .n {
    color: #333;
  }

  .markdown-body .highlight .na,
  .markdown-body .highlight .nv,
  .markdown-body .highlight .vc,
  .markdown-body .highlight .vg,
  .markdown-body .highlight .vi {
    color: #008080;
  }

  .markdown-body .highlight .nb {
    color: #0086B3;
  }

  .markdown-body .highlight .nc {
    color: #458;
    font-weight: bold;
  }

  .markdown-body .highlight .no {
    color: #094e99;
  }

  .markdown-body .highlight .ni {
    color: #800080;
  }

  .markdown-body .highlight .ne {
    color: #990000;
    font-weight: bold;
  }

  .markdown-body .highlight .nf {
    color: #945277;
    font-weight: bold;
  }

  .markdown-body .highlight .nn {
    color: #555;
  }

  .markdown-body .highlight .nt {
    color: #000080;
  }

  .markdown-body .highlight .err {
    color: #a61717;
    background-color: #e3d2d2;
  }

  .markdown-body .highlight .gd {
    color: #000;
    background-color: #fdd;
  }

  .markdown-body .highlight .gd .x {
    color: #000;
    background-color: #faa;
  }

  .markdown-body .highlight .ge {
    font-style: italic;
  }

  .markdown-body .highlight .gr {
    color: #aa0000;
  }

  .markdown-body .highlight .gh {
    color: #999;
  }

  .markdown-body .highlight .gi {
    color: #000;
    background-color: #dfd;
  }

  .markdown-body .highlight .gi .x {
    color: #000;
    background-color: #afa;
  }

  .markdown-body .highlight .go {
    color: #888;
  }

  .markdown-body .highlight .gp {
    color: #555;
  }

  .markdown-body .highlight .gs {
    font-weight: bold;
  }

  .markdown-body .highlight .gu {
    color: #800080;
    font-weight: bold;
  }

  .markdown-body .highlight .gt {
    color: #aa0000;
  }

  .markdown-body .highlight .ow {
    font-weight: bold;
  }

  .markdown-body .highlight .w {
    color: #bbb;
  }

  .markdown-body .highlight .sr {
    color: #017936;
  }

  .markdown-body .highlight .ss {
    color: #8b467f;
  }

  .markdown-body .highlight .bp {
    color: #999;
  }

  .markdown-body .highlight .gc {
    color: #999;
    background-color: #EAF2F5;
  }

  .markdown-body kbd {
    background-color: #e7e7e7;
    background-image: -webkit-linear-gradient(#fefefe, #e7e7e7);
    background-image: linear-gradient(#fefefe, #e7e7e7);
    background-repeat: repeat-x;
    display: inline-block;
    padding: 3px 5px;
    font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
    line-height: 10px;
    color: #000;
    border: 1px solid #cfcfcf;
    border-radius: 2px;
  }

  .markdown-body .highlight .pl-coc,
  .markdown-body .highlight .pl-entm,
  .markdown-body .highlight .pl-eoa,
  .markdown-body .highlight .pl-mai .pl-sf,
  .markdown-body .highlight .pl-pdv,
  .markdown-body .highlight .pl-sc,
  .markdown-body .highlight .pl-sr,
  .markdown-body .highlight .pl-v,
  .markdown-body .highlight .pl-vpf {
    color: #0086b3;
  }

  .markdown-body .highlight .pl-eoac,
  .markdown-body .highlight .pl-mdht,
  .markdown-body .highlight .pl-mi1,
  .markdown-body .highlight .pl-mri,
  .markdown-body .highlight .pl-va,
  .markdown-body .highlight .pl-vpu {
    color: #008080;
  }

  .markdown-body .highlight .pl-c,
  .markdown-body .highlight .pl-pdc {
    color: #b4b7b4;
    font-style: italic;
  }

  .markdown-body .highlight .pl-k,
  .markdown-body .highlight .pl-ko,
  .markdown-body .highlight .pl-kolp,
  .markdown-body .highlight .pl-mc,
  .markdown-body .highlight .pl-mr,
  .markdown-body .highlight .pl-ms,
  .markdown-body .highlight .pl-s,
  .markdown-body .highlight .pl-sok,
  .markdown-body .highlight .pl-st {
    color: #6e5494;
  }

  .markdown-body .highlight .pl-ef,
  .markdown-body .highlight .pl-enf,
  .markdown-body .highlight .pl-enm,
  .markdown-body .highlight .pl-entc,
  .markdown-body .highlight .pl-eoi,
  .markdown-body .highlight .pl-sf,
  .markdown-body .highlight .pl-smc {
    color: #d12089;
  }

  .markdown-body .highlight .pl-ens,
  .markdown-body .highlight .pl-eoai,
  .markdown-body .highlight .pl-kos,
  .markdown-body .highlight .pl-mh .pl-pdh,
  .markdown-body .highlight .pl-mp,
  .markdown-body .highlight .pl-pde,
  .markdown-body .highlight .pl-stp {
    color: #458;
  }

  .markdown-body .highlight .pl-enti {
    color: #d12089;
    font-weight: bold;
  }

  .markdown-body .highlight .pl-cce,
  .markdown-body .highlight .pl-enc,
  .markdown-body .highlight .pl-kou,
  .markdown-body .highlight .pl-mq {
    color: #f93;
  }

  .markdown-body .highlight .pl-mp1 .pl-sf {
    color: #458;
    font-weight: bold;
  }

  .markdown-body .highlight .pl-cos,
  .markdown-body .highlight .pl-ent,
  .markdown-body .highlight .pl-md,
  .markdown-body .highlight .pl-mdhf,
  .markdown-body .highlight .pl-ml,
  .markdown-body .highlight .pl-pdc1,
  .markdown-body .highlight .pl-pds,
  .markdown-body .highlight .pl-s1,
  .markdown-body .highlight .pl-scp,
  .markdown-body .highlight .pl-sol {
    color: #df5000;
  }

  .markdown-body .highlight .pl-c1,
  .markdown-body .highlight .pl-cn,
  .markdown-body .highlight .pl-pse,
  .markdown-body .highlight .pl-pse .pl-s2,
  .markdown-body .highlight .pl-vi {
    color: #a31515;
  }

  .markdown-body .highlight .pl-mb,
  .markdown-body .highlight .pl-pdb {
    color: #df5000;
    font-weight: bold;
  }

  .markdown-body .highlight .pl-mi,
  .markdown-body .highlight .pl-pdi {
    color: #6e5494;
    font-style: italic;
  }

  .markdown-body .highlight .pl-ms1 {
    background-color: #f5f5f5;
  }

  .markdown-body .highlight .pl-mdh,
  .markdown-body .highlight .pl-mdi {
    font-weight: bold;
  }

  .markdown-body .highlight .pl-mdr {
    color: #0086b3;
    font-weight: bold;
  }

  .markdown-body .highlight .pl-s2 {
    color: #333;
  }

  .markdown-body .highlight .pl-ii {
    background-color: #df5000;
    color: #fff;
  }

  .markdown-body .highlight .pl-ib {
    background-color: #f93;
  }

  .markdown-body .highlight .pl-id {
    background-color: #a31515;
    color: #fff;
  }

  .markdown-body .highlight .pl-iu {
    background-color: #b4b7b4;
  }

  .markdown-body .highlight .pl-mo {
    color: #969896;
  }

  .markdown-body .task-list-item {
    list-style-type: none;
  }

  .markdown-body .task-list-item + .task-list-item {
    margin-top: 3px;
  }

  .markdown-body .task-list-item input {
    float: left;
    margin: 0.3em 0 0.25em -1.6em;
    vertical-align: middle;
  }</style>
  <title>Ember.js 2.0 Tutorial - Building a complex web application</title>
  <meta name="google-site-verification" content="U42b-ZgXzrF6rhQTCtbrmiSvRBUigl0IoHE-5bhz64c"/>
  <meta name="google-site-verification" content="U42b-ZgXzrF6rhQTCtbrmiSvRBUigl0IoHE-5bhz64c"/>
  <meta name="description" content="Free Ember.js tutorial for absolute beginners. Build a CRUD application from step by step with Ember.js 2.">
  <link rel="canonical" href="http://yoember.com"/>
</head>
<body>
<article class="markdown-body"><h1>
  <a id="user-content-emberjs-20-tutorial---building-a-complex-web-application" class="anchor"
     href="#emberjs-20-tutorial---building-a-complex-web-application" aria-hidden="true"><span
      class="octicon octicon-link"></span></a>Ember.js 2.0 Tutorial - Building a complex web application</h1>

  <p>Ember.js 2.0 tutorial for absolute beginners. (Work in progress.)</p>

  <ul>
    <li>Library App (original repo): <a href="https://github.com/szines/library-app" rel="nofollow">https://github.com/szines/library-app</a>
    </li>
    <li>Live demo: <a href="https://library-app.firebaseapp.com/" rel="nofollow">https://library-app.firebaseapp.com</a>
    </li>
    <li>Personal links: <a href="https://twitter.com/szines">twitter.com/szines</a> | <a href="http://zoltan.nz">zoltan.nz</a>
    </li>
    <li><a href="http://www.meetup.com/Enspiral-Dev-Academy-Meetup/events/226074926/" rel="nofollow">Our free weekly
      Ember.js workshop in Wellington</a></li>
    <li><a href="http://emberjs.nz/">Ember.js New Zealand</a></li>
  </ul>

  <h4>
    <a id="user-content-previous-tutorials" class="anchor" href="#previous-tutorials" aria-hidden="true"><span
        class="octicon octicon-link"></span></a>Previous tutorials</h4>

  <ul>
    <li>Bookstore API (Ruby on Rails): <a href="https://github.com/szines/bookstore-api" rel="nofollow">https://github.com/szines/bookstore-api</a>
    </li>
    <li>Bookstore Client (Ember.js): <a href="https://github.com/szines/bookstore-client" rel="nofollow">https://github.com/szines/bookstore-client</a>
    </li>
    <li>Contacts App Client (Ember.js): <a href="https://github.com/szines/contacts-app-client" rel="nofollow">https://github.com/szines/contacts-app-client</a>
    </li>
  </ul>

  <h2>
    <a id="user-content-contents" class="anchor" href="#contents" aria-hidden="true"><span
        class="octicon octicon-link"></span></a>Contents</h2>

  <ul>
    <li><a href="#user-content-lesson-1">Lesson 1</a></li>
    <li><a href="#user-content-lesson-2">Lesson 2</a></li>
    <li><a href="#user-content-lesson-3">Lesson 3</a></li>
    <li><a href="#user-content-lesson-4">Lesson 4</a></li>
    <li><a href="#user-content-lesson-5">Lesson 5</a></li>
    <li><a href="#user-content-lesson-6">Lesson 6</a></li>
  </ul>

  <h2>
    <a id="user-content-prerequisites" class="anchor" href="#prerequisites" aria-hidden="true"><span
        class="octicon octicon-link"></span></a>Prerequisites</h2>

  <ul>
    <li>node.js 0.12.0 or newer</li>
  </ul>

  <p>Suggested way to install node.js: <a href="https://github.com/creationix/nvm">https://github.com/creationix/nvm</a>
  </p>

  <ul>
    <li>Ember Inspector Chrome Extension</li>
  </ul>

  <p>Install Ember Inspector Chrome extension in your Chrome Browser: <a
      href="https://chrome.google.com/webstore/detail/ember-inspector/bmdblncegkenkacieihfhpjfppoconhi?hl=en">Ember
    Inspector</a></p>

  <h2>
    <a id="user-content-lesson-1" class="anchor" href="#lesson-1" aria-hidden="true"><span
        class="octicon octicon-link"></span></a>Lesson 1</h2>

  <h3>
    <a id="user-content-install-ember-cli" class="anchor" href="#install-ember-cli" aria-hidden="true"><span
        class="octicon octicon-link"></span></a>Install ember-cli</h3>

<pre><code>npm install -g ember-cli
</code></pre>

  <h3>
    <a id="user-content-create-the-app" class="anchor" href="#create-the-app" aria-hidden="true"><span
        class="octicon octicon-link"></span></a>Create the app</h3>

<pre><code>ember new library-app
</code></pre>

  <h3>
    <a id="user-content-launch-the-app" class="anchor" href="#launch-the-app" aria-hidden="true"><span
        class="octicon octicon-link"></span></a>Launch the app</h3>

<pre><code>ember server
</code></pre>

  <h3>
    <a id="user-content-update-emberjs-and-ember-data-to-20" class="anchor" href="#update-emberjs-and-ember-data-to-20"
       aria-hidden="true"><span class="octicon octicon-link"></span></a>Update Ember.js and Ember-Data to 2.0</h3>

  <p>Update version number of <code>"ember"</code> and <code>"ember-data"</code> in <code>./bower.json</code>:</p>

<pre><code> {
  "name": "library-app",
  "dependencies": {
  "ember": "2.0",
  ...
  "ember-data": "2.0",
  ...
  }
  }
</code></pre>

  <p>Update version number of <code>"ember-data"</code> in <code>./package.json</code>:</p>

<pre><code> {
  "name": "library-app",
  ...
  "devDependencies": {
  ...
  "ember-data": "2.0",
  ...
  }
  }
</code></pre>

  <p>Run <code>npm update</code> and <code>bower update</code> in your console:</p>

<pre><code>npm update
  bower update
</code></pre>

  <p>If you see something similar when you run <code>bower update</code></p>

<pre><code>Unable to find a suitable version for ember, please choose one:
  1) ember#&gt;=1.4 &lt;2 which resolved to 1.13.10 and is required by ember-cli-shims#0.0.3,
  ember-load-initializers#0.1.5
  2) ember#^2.0.0 which resolved to 2.0.2 and is required by ember-data#2.0.0
  3) ember#2.0 which resolved to 2.0.2 and is required by library-app
  4) ember#&gt; 1.5.0-beta.3 which resolved to 2.0.2 and is required by ember-resolver#0.1.21

  Prefix the choice with ! to persist it to bower.json
</code></pre>

  <p>Select the number with <code>ember#2.0 which resolved to 2.0.2 and is required by library-app</code>, in this case
    the answer is <code>!3</code> and hit enter. (<code>2.0.2</code> could be different, because there could be newer
    version later.)</p>

  <p>Launch or relaunch your application with <code>ember server</code> or with <code>ember s</code> and check the
    version number in browser console.</p>

  <h3>
    <a id="user-content-turn-on-a-couple-of-debugging-option" class="anchor"
       href="#turn-on-a-couple-of-debugging-option" aria-hidden="true"><span class="octicon octicon-link"></span></a>Turn
    on a couple of debugging option</h3>

  <p>You can find a list of debugging options in <code>./config/environment.js</code> file. Remove the comment sign as
    follow:</p>

  <div class="highlight highlight-source-js"><pre>    <span class="pl-c">//..</span>
    <span class="pl-k">if</span> (environment <span class="pl-k">===</span> <span class="pl-s"><span
        class="pl-pds">'</span>development<span class="pl-pds">'</span></span>) {
      <span class="pl-c">// ENV.APP.LOG_RESOLVER = true;</span>
      <span class="pl-c1">ENV</span>.APP.LOG_ACTIVE_GENERATION <span class="pl-k">=</span> <span
        class="pl-c1">true</span>;
      <span class="pl-c1">ENV</span>.APP.LOG_TRANSITIONS <span class="pl-k">=</span> <span class="pl-c1">true</span>;
      <span class="pl-c1">ENV</span>.APP.LOG_TRANSITIONS_INTERNAL <span class="pl-k">=</span> <span
        class="pl-c1">true</span>;
      <span class="pl-c1">ENV</span>.APP.LOG_VIEW_LOOKUPS <span class="pl-k">=</span> <span class="pl-c1">true</span>;
    }
    <span class="pl-c">//..</span></pre>
  </div>

  <p>Check your app and open the Console in Chrome. You will see a couple of extra information what Ember.js
    automatically doing.</p>

  <h3>
    <a id="user-content-add-sass-and-bootstrap-to-your-app" class="anchor" href="#add-sass-and-bootstrap-to-your-app"
       aria-hidden="true"><span class="octicon octicon-link"></span></a>Add Sass and Bootstrap to your app</h3>

  <p>Exit your <code>ember server</code> with <code>Ctrl+C</code> in your terminal.</p>

  <p>Run the following two command in your terminal.</p>

<pre><code>ember install ember-cli-sass
  ember install ember-cli-bootstrap-sassy
</code></pre>

  <p>You will see, that your <code>./package.json</code> and <code>./bower.json</code> are extended with a couple of
    lines.</p>

  <p>Rename your <code>app.css</code> to <code>app.scss</code> with the following terminal command or you can use your
    editor to rename the <code>./app/styles/app.css</code> file:</p>

<pre><code>mv app/styles/app.css app/styles/app.scss
</code></pre>

  <p>Open <code>./app/styles/app.scss</code> file in your editor and add the following line:</p>

<pre><code>@import "bootstrap";
</code></pre>

  <p>Relaunch your app with <code>ember server</code>. You should see in the browser, that 'Welcome to Ember' uses
    Bootstrap default font.</p>

  <h3>
    <a id="user-content-create-a-navigation-partial" class="anchor" href="#create-a-navigation-partial"
       aria-hidden="true"><span class="octicon octicon-link"></span></a>Create a navigation partial</h3>

  <p>We will use bootstrap navigation bar to create a nice header section for our app.</p>

  <p>Update your main template file. Delete the example content and add the following code to your <code>./app/templates/application.hbs</code>.
  </p>

  <div class="highlight highlight-text-html-basic"><pre>    &lt;<span class="pl-ent">div</span> <span
      class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>container<span
      class="pl-pds">"</span></span>&gt;
      {{partial 'navbar'}}
      {{outlet}}
    &lt;/<span class="pl-ent">div</span>&gt;</pre>
  </div>

  <p>Generate a <code>navbar.hbs</code> file with the following command in you terminal.</p>

<pre><code>ember generate template navbar
</code></pre>

  <p>You can open <code>./app/templates/navbar.hbs</code> in your editor and add the following lines:</p>

  <div class="highlight highlight-text-html-basic"><pre>    &lt;<span class="pl-ent">nav</span> <span
      class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>navbar navbar-inverse<span
      class="pl-pds">"</span></span>&gt;
      &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>container-fluid<span class="pl-pds">"</span></span>&gt;
        &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>navbar-header<span class="pl-pds">"</span></span>&gt;
          &lt;<span class="pl-ent">button</span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>button<span
        class="pl-pds">"</span></span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>navbar-toggle collapsed<span
        class="pl-pds">"</span></span> <span class="pl-e">data-toggle</span>=<span class="pl-s"><span
        class="pl-pds">"</span>collapse<span class="pl-pds">"</span></span> <span class="pl-e">data-target</span>=<span
        class="pl-s"><span class="pl-pds">"</span>#main-navbar<span class="pl-pds">"</span></span>&gt;
            &lt;<span class="pl-ent">span</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>sr-only<span class="pl-pds">"</span></span>&gt;Toggle navigation&lt;/<span
        class="pl-ent">span</span>&gt;
            &lt;<span class="pl-ent">span</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>icon-bar<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">span</span>&gt;
            &lt;<span class="pl-ent">span</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>icon-bar<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">span</span>&gt;
            &lt;<span class="pl-ent">span</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>icon-bar<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">span</span>&gt;
          &lt;/<span class="pl-ent">button</span>&gt;
          {{#link-to 'index' class="navbar-brand"}}Library App{{/link-to}}
        &lt;/<span class="pl-ent">div</span>&gt;

        &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>collapse navbar-collapse<span class="pl-pds">"</span></span> <span class="pl-e">id</span>=<span
        class="pl-s"><span class="pl-pds">"</span>main-navbar<span class="pl-pds">"</span></span>&gt;
          &lt;<span class="pl-ent">ul</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>nav navbar-nav<span class="pl-pds">"</span></span>&gt;
                {{#link-to 'index' tagName="li"}}&lt;<span class="pl-ent">a</span> <span class="pl-e">href</span>&gt;Home&lt;/<span
        class="pl-ent">a</span>&gt;{{/link-to}}
          &lt;/<span class="pl-ent">ul</span>&gt;
        &lt;/<span class="pl-ent">div</span>&gt;<span class="pl-c">&lt;!-- /.navbar-collapse --&gt;</span>
      &lt;/<span class="pl-ent">div</span>&gt;<span class="pl-c">&lt;!-- /.container-fluid --&gt;</span>
    &lt;/<span class="pl-ent">nav</span>&gt;</pre>
  </div>

  <p>Launch your application with <code>ember server</code>. You should see your new navigation bar in your browser.</p>

  <p>You can update your <code>app.scss</code> file to add some extra padding to the top. The updated <code>./app/styles/app.scss</code>
    content:</p>

  <div class="highlight highlight-source-css"><pre>    <span class="pl-k">@import</span> <span class="pl-s"><span
      class="pl-pds">"</span>bootstrap<span class="pl-pds">"</span></span>;

    <span class="pl-ent">body</span> {
      <span class="pl-c1"><span class="pl-c1">padding-top</span></span>: <span class="pl-c1">20<span
        class="pl-k">px</span></span>;
    }</pre>
  </div>

  <h3>
    <a id="user-content-create-a-new-about-page-and-add-the-link-to-the-menu-bar" class="anchor"
       href="#create-a-new-about-page-and-add-the-link-to-the-menu-bar" aria-hidden="true"><span
        class="octicon octicon-link"></span></a>Create a new About page and add the link to the menu bar</h3>

  <p>Run the following command in your terminal</p>

<pre><code>ember generate route about
</code></pre>

  <p>A new route and template created in your project.</p>

  <p>Open your new <code>./app/templates/about.hbs</code> file in your editor, delete its content and add the following
    line:</p>

<pre><code>&lt;h1&gt;About Page&lt;/h1&gt;
</code></pre>

  <p>You can launch your app with <code>ember server</code> and navigate to http://localhost:4200/about page, you should
    see the created <code>About Page</code> header message. If you click on <code>Home</code> in your menu bar, your
    page will be empty. Let's fix that.</p>

  <p>Create a new <code>index</code> template with the following command in your terminal:</p>

<pre><code>ember generate template index
</code></pre>

  <p>Open in your editor the generated <code>./app/templates/index.hbs</code> file and add the following:</p>

<pre><code>&lt;h1&gt;Home Page&lt;/h1&gt;
</code></pre>

  <p>If you launch your app, you should see the above message on your home page, however we still doesn't have About
    link in our menu bar.</p>

  <p>Open your <code>./app/templates/navbar.hbs</code> and add the following line to the <code>ul</code> section under
    <code>Home</code> link:</p>

<pre><code>{{#link-to 'about' tagName="li"}}&lt;a href&gt;About&lt;/a&gt;{{/link-to}}
</code></pre>

  <p>Your <code>ul</code> section in <code>navbar.hbs</code> should look like this:</p>

  <div class="highlight highlight-text-html-basic"><pre>    &lt;<span class="pl-ent">ul</span> <span
      class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>nav navbar-nav<span
      class="pl-pds">"</span></span>&gt;
          {{#link-to 'index' tagName="li"}}&lt;<span class="pl-ent">a</span> <span class="pl-e">href</span>&gt;Home&lt;/<span
        class="pl-ent">a</span>&gt;{{/link-to}}
          {{#link-to 'about' tagName="li"}}&lt;<span class="pl-ent">a</span> <span class="pl-e">href</span>&gt;About&lt;/<span
        class="pl-ent">a</span>&gt;{{/link-to}}
    &lt;/<span class="pl-ent">ul</span>&gt;</pre>
  </div>

  <p>If you check your app in the browser, you should see <code>Home</code> and <code>About</code> link in your menu
    bar, you can click on them and you will see how the page content and the url are changed. The <code>active</code>
    state of the link changes the style of the menu link automatically as well.</p>

  <h3>
    <a id="user-content-homework" class="anchor" href="#homework" aria-hidden="true"><span
        class="octicon octicon-link"></span></a>Homework</h3>

  <p>Create a <code>Contact</code> page. Extend the navigation bar with "Contact" menu.</p>

  <h2>
    <a id="user-content-lesson-2" class="anchor" href="#lesson-2" aria-hidden="true"><span
        class="octicon octicon-link"></span></a>Lesson 2</h2>

  <h3>
    <a id="user-content-coming-soon-homepage-with-an-email-input-box" class="anchor"
       href="#coming-soon-homepage-with-an-email-input-box" aria-hidden="true"><span
        class="octicon octicon-link"></span></a>Coming Soon homepage with an email input box</h3>

  <p>Let's create a coming soon jumbotron on the home page with an email input box, where users can subscribe for a
    newsletter.</p>

  <ul>
    <li>Bootstrap's jumbotron: <a href="http://getbootstrap.com/components/#jumbotron">http://getbootstrap.com/components/#jumbotron</a>
    </li>
    <li>Bootstrap's forms: <a href="http://getbootstrap.com/css/#forms">http://getbootstrap.com/css/#forms</a>
    </li>
  </ul>

  <h4>
    <a id="user-content-only-static-html5-and-style" class="anchor" href="#only-static-html5-and-style"
       aria-hidden="true"><span class="octicon octicon-link"></span></a>Only static html5 and style</h4>

  <p>Add a static jumbotron, an input box and a button to <code>index.hbs</code>.</p>

  <div class="highlight highlight-text-html-basic"><pre>    &lt;<span class="pl-ent">div</span> <span
      class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>jumbotron text-center<span
      class="pl-pds">"</span></span>&gt;
        &lt;<span class="pl-ent">h1</span>&gt;Coming Soon&lt;/<span class="pl-ent">h1</span>&gt;

        &lt;<span class="pl-ent">br</span>/&gt;&lt;<span class="pl-ent">br</span>/&gt;

        &lt;<span class="pl-ent">p</span>&gt;Don't miss our launch date, request an invitation now.&lt;/<span
        class="pl-ent">p</span>&gt;

        &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>form-horizontal form-group form-group-lg row<span class="pl-pds">"</span></span>&gt;
            &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>col-xs-10 col-xs-offset-1 col-sm-6 col-sm-offset-1 col-md-5 col-md-offset-2<span
        class="pl-pds">"</span></span>&gt;
              &lt;<span class="pl-ent">input</span> <span class="pl-e">type</span>=<span class="pl-s"><span
        class="pl-pds">"</span>email<span class="pl-pds">"</span></span> <span class="pl-e">class</span>=<span
        class="pl-s"><span class="pl-pds">"</span>form-control<span class="pl-pds">"</span></span> <span class="pl-e">placeholder</span>=<span
        class="pl-s"><span class="pl-pds">"</span>Please type your e-mail address.<span
        class="pl-pds">"</span></span> <span class="pl-e">autofocus</span>=<span class="pl-s"><span
        class="pl-pds">"</span>autofocus<span class="pl-pds">"</span></span>/&gt;
            &lt;/<span class="pl-ent">div</span>&gt;
            &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>col-xs-10 col-xs-offset-1 col-sm-offset-0 col-sm-4 col-md-3<span
        class="pl-pds">"</span></span>&gt;
                &lt;<span class="pl-ent">button</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>btn btn-primary btn-lg btn-block<span class="pl-pds">"</span></span>&gt;Request invitation&lt;/<span
        class="pl-ent">button</span>&gt;
            &lt;/<span class="pl-ent">div</span>&gt;

        &lt;/<span class="pl-ent">div</span>&gt;

        &lt;<span class="pl-ent">br</span>/&gt;&lt;<span class="pl-ent">br</span>/&gt;
    &lt;/<span class="pl-ent">div</span>&gt;</pre>
  </div>

  <h4>
    <a id="user-content-requirements" class="anchor" href="#requirements" aria-hidden="true"><span
        class="octicon octicon-link"></span></a>Requirements</h4>

  <p>We would like to cover the following requirements:</p>

  <ul>
    <li>"Invite me" button should be inactive when input box is empty</li>
    <li>"Invite me" button should be inactive when the content in the input box is not valid email address.</li>
    <li>Show a response message after clicking of "Invite me" button.</li>
    <li>Clear the input box when invitation sent.</li>
  </ul>

  <h4>
    <a id="user-content-isdisabled" class="anchor" href="#isdisabled" aria-hidden="true"><span
        class="octicon octicon-link"></span></a>isDisabled</h4>

  <p>We can add dynamic values to standard html properties using conditionals. We can use our controller to add or
    modify the value of a variable, what we use in our template. Check the following solution. We create a boolean
    variable, let's call it <code>isDisabled</code> will provide the state of <code>disabled</code> html attribute.</p>

  <p>From the official guide:</p>

  <blockquote>
    <p>Each template has an associated controller: this is where the template finds the properties that it displays.
      You can display a property from your controller by wrapping the property name in curly braces.</p>
  </blockquote>

  <p>Add <code>disabled</code> property with <code>{{if}}</code> helper. (Note: adding <code>disabled</code> style to
    the class will not disable the button properly when we will implement an <code>action</code> later.)</p>

  <div class="highlight highlight-text-html-basic">
    <pre>    &lt;<span class="pl-ent">button</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>btn btn-primary btn-lg btn-block<span class="pl-pds">"</span></span> <span class="pl-e">disabled</span>=<span
        class="pl-s"><span class="pl-pds">"</span>{{if isDisabled 'disabled'}}<span class="pl-pds">"</span></span>&gt;Request invitation&lt;/<span
        class="pl-ent">button</span>&gt;</pre>
  </div>

  <blockquote>
    <p>More about conditionals in templates:
      <a href="http://guides.emberjs.com/v2.0.0/templates/conditionals/">http://guides.emberjs.com/v2.0.0/templates/conditionals/</a>
    </p>
  </blockquote>

  <p>Create index controller</p>

<pre><code>ember g controller index
</code></pre>

  <blockquote>
    <p>Read more about Ember controllers here:
      <a href="http://guides.emberjs.com/v2.0.0/controllers/" rel="nofollow">http://guides.emberjs.com/v2.0.0/controllers/</a>
    </p>
  </blockquote>

  <p>Add <code>isDisabled</code> property to the controller. Default value is <code>true</code>.</p>

  <div class="highlight highlight-source-js"><pre>    <span class="pl-c">//app/controllers/index.js</span>
    <span class="pl-k">import</span> Ember <span class="pl-k">from</span> <span class="pl-s"><span
        class="pl-pds">'</span>ember<span class="pl-pds">'</span></span>;

    <span class="pl-k">export</span> <span class="pl-k">default</span> Ember.Controller.extend({

      isDisabled<span class="pl-k">:</span> <span class="pl-c1">true</span>

    });</pre>
  </div>

  <p>You can check your app, the button will be disabled by default.</p>

  <h4>
    <a id="user-content-computed-properties-and-observers" class="anchor" href="#computed-properties-and-observers"
       aria-hidden="true"><span class="octicon octicon-link"></span></a>Computed Properties and Observers</h4>

  <p>Computed Properties and Observers are important features of Ember.js. Please read more about it in the official
    guide first.</p>

  <blockquote>
    <p>Computed Properties: <a href="http://guides.emberjs.com/v2.0.0/object-model/computed-properties/" rel="nofollow">http://guides.emberjs.com/v2.0.0/object-model/computed-properties/</a>
      Observers: <a href="http://guides.emberjs.com/v2.0.0/object-model/observers/" rel="nofollow">http://guides.emberjs.com/v2.0.0/object-model/observers/</a>
    </p>
  </blockquote>

  <p>Please note, we will use the traditional syntax in the following code, it means <code>.property()</code> and <code>.observes()</code>
    will be attached to the functions.</p>

  <p>First, update your html code with input component syntax and add a <code>value</code> to our email input box.</p>

  <p>Modify <code>&lt;input&gt;</code> line as follow in <code>index.hbs</code>:</p>

  <div class="highlight highlight-text-html-basic">
    <pre>{{input type="email" value=emailAddress class="form-control" placeholder="Please type your e-mail address." autofocus="autofocus"}}</pre>
  </div>

  <p>As you can see, we use <code>emailAddress</code> variable, or better word, a "property" where we would like to
    store the value of the input box.</p>

  <p>If you type something in the input box, it will update this variable in the controller as well.</p>

  <p>You can use the following code in your controller to demonstrate the differences between computed properties and
    observers:</p>

<pre><code> emailAddress: '',

  actualEmailAddress: function() { 
  console.log(‘actualEmailAddress function is called: ', this.get('emailAddress'));
  }.property('emailAddress'),

  emailAddressChanged: function() { 
  console.log('observer is called', this.get('emailAddress')); 
  }.observes('emailAddress')
</code></pre>

  <p>Observers will be called always when the value of the <code>emailAddress</code> changes, the computed property only
    when you use it. Use Ember Inspector, click on <code>/# Routes</code> section, find the <code>index</code> route, in
    the same line, under <code>Controller</code> column, you will see an <code>&gt;$E</code> sign, click on it. Open the
    console in Chrome and you will see something like this: <code>Ember Inspector ($E): Class {__nextSuper: undefined,
      __ember_meta__: Object, __ember1442491471913: "ember443"}</code></p>

  <p>If you type the following in the console: <code>$E.get('actualEmailAddress')</code>, you should see the above
    created <code>console.log</code> message, that "actualEmailAddress is called".</p>

  <p>Please play with the above example and try to create your own observers and computed properties.</p>

  <p>We can rewrite our <code>isDisabled</code> with computed property as well.</p>

  <div class="highlight highlight-source-js"><pre><span class="pl-c">// app/controllers/index.js</span>
<span class="pl-k">import</span> Ember <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>ember<span
        class="pl-pds">'</span></span>;

<span class="pl-k">export</span> <span class="pl-k">default</span> Ember.Controller.extend({

  emailAddress<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>,

  <span class="pl-en">isDisabled</span><span class="pl-k">:</span> <span class="pl-k">function</span>() {
    <span class="pl-k">return</span> <span class="pl-v">this</span>.get(<span class="pl-s"><span class="pl-pds">'</span>emailAddress<span
        class="pl-pds">'</span></span>) <span class="pl-k">===</span> <span class="pl-s"><span
        class="pl-pds">'</span><span class="pl-pds">'</span></span>;
  }.property(<span class="pl-s"><span class="pl-pds">'</span>emailAddress<span class="pl-pds">'</span></span>)

});</pre>
  </div>

  <p>But the above solution works only if the input box is not empty. It is not checking how valid the email
    address.</p>

  <p>You can use the Ember.js 2.0 syntax as well.</p>

  <div class="highlight highlight-source-js"><pre><span class="pl-c">// app/controllers/index.js</span>
<span class="pl-k">import</span> Ember <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>ember<span
        class="pl-pds">'</span></span>;

<span class="pl-k">export</span> <span class="pl-k">default</span> Ember.Controller.extend({

  emailAddress<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>,

  isDisabled<span class="pl-k">:</span> Ember.computed(<span class="pl-s"><span class="pl-pds">'</span>emailAddress<span
        class="pl-pds">'</span></span>, <span class="pl-k">function</span>() {
    <span class="pl-k">return</span> <span class="pl-v">this</span>.get(<span class="pl-s"><span class="pl-pds">'</span>emailAddress<span
        class="pl-pds">'</span></span>) <span class="pl-k">===</span> <span class="pl-s"><span
        class="pl-pds">'</span><span class="pl-pds">'</span></span>;
  }

});</pre>
  </div>

  <p>Or you can use the short version:</p>

  <div class="highlight highlight-source-js"><pre><span class="pl-c">// app/controllers/index.js</span>
<span class="pl-k">import</span> Ember <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>ember<span
        class="pl-pds">'</span></span>;

<span class="pl-k">export</span> <span class="pl-k">default</span> Ember.Controller.extend({

  emailAddress<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>,

  isDisabled<span class="pl-k">:</span> Ember.computed.empty(<span class="pl-s"><span class="pl-pds">'</span>emailAddress<span
        class="pl-pds">'</span></span>)

});</pre>
  </div>

  <blockquote>
    <p>More about <code>Ember.computed</code> short versions: <a
        href="http://emberjs.com/api/classes/Ember.computed.html">http://emberjs.com/api/classes/Ember.computed.html</a>
    </p>
  </blockquote>

  <h4>
    <a id="user-content-isvalid" class="anchor" href="#isvalid" aria-hidden="true"><span
        class="octicon octicon-link"></span></a>isValid</h4>

  <p>More elegant solution if we enable our "Invite me" button only that case when the content of input box contains
    valid email address.</p>

  <div class="highlight highlight-source-js"><pre><span class="pl-c">// app/controllers/index.js</span>
<span class="pl-k">import</span> Ember <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>ember<span
        class="pl-pds">'</span></span>;

<span class="pl-k">export</span> <span class="pl-k">default</span> Ember.Controller.extend({

  emailAddress<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>,

  isValid<span class="pl-k">:</span> Ember.computed.<span class="pl-c1">match</span>(<span class="pl-s"><span
        class="pl-pds">'</span>emailAddress<span class="pl-pds">'</span></span>,<span class="pl-sr"> <span
        class="pl-pds">/</span><span class="pl-k">^</span><span class="pl-c1">.</span><span class="pl-k">+</span>@<span
        class="pl-c1">.</span><span class="pl-k">+</span><span class="pl-cce">\.</span><span class="pl-c1">.</span><span
        class="pl-k">+</span><span class="pl-k">$</span><span class="pl-pds">/</span></span>),

});</pre>
  </div>

  <p>We deleted the <code>isDisabled</code> property instead we will use <code>isValid</code>. Update your <code>index.hbs</code>
    <code>&lt;button&gt;</code> as below.</p>

  <div class="highlight highlight-text-html-basic">
    <pre>&lt;<span class="pl-ent">button</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>btn btn-primary btn-lg btn-block<span
        class="pl-pds">"</span></span> <span class="pl-e">disabled</span>=<span class="pl-s"><span
        class="pl-pds">"</span>{{unless isValid 'disabled'}}<span class="pl-pds">"</span></span>&gt;Request invitation&lt;/<span
        class="pl-ent">button</span>&gt;</pre>
  </div>

  <h4>
    <a id="user-content-add-our-first-action" class="anchor" href="#add-our-first-action" aria-hidden="true"><span
        class="octicon octicon-link"></span></a>Add our first Action</h4>

  <p>Update your <code>&lt;button&gt;</code> line again.</p>

  <div class="highlight highlight-text-html-basic">
    <pre>&lt;<span class="pl-ent">button</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>btn btn-primary btn-lg btn-block<span
        class="pl-pds">"</span></span> <span class="pl-e">disabled</span>=<span class="pl-s"><span
        class="pl-pds">"</span>{{unless isValid 'disabled'}}<span class="pl-pds">"</span></span> {{<span class="pl-e">action</span> <span
        class="pl-s"><span class="pl-pds">'</span>saveInvitation<span class="pl-pds">'</span></span>}}&gt;Request invitation&lt;/<span
        class="pl-ent">button</span>&gt;</pre>
  </div>

  <p>You can try out in your browser, that if you click on the button, you will get a nice error message, which
    explaines you has to implement this action in your controller. Let's do that.</p>

  <div class="highlight highlight-source-js"><pre><span class="pl-c">// app/controllers/index.js</span>
<span class="pl-k">import</span> Ember <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>ember<span
        class="pl-pds">'</span></span>;

<span class="pl-k">export</span> <span class="pl-k">default</span> Ember.Controller.extend({

  emailAddress<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>,

  isValid<span class="pl-k">:</span> Ember.computed.<span class="pl-c1">match</span>(<span class="pl-s"><span
        class="pl-pds">'</span>emailAddress<span class="pl-pds">'</span></span>,<span class="pl-sr"> <span
        class="pl-pds">/</span><span class="pl-k">^</span><span class="pl-c1">.</span><span class="pl-k">+</span>@<span
        class="pl-c1">.</span><span class="pl-k">+</span><span class="pl-cce">\.</span><span class="pl-c1">.</span><span
        class="pl-k">+</span><span class="pl-k">$</span><span class="pl-pds">/</span></span>),

  actions<span class="pl-k">:</span> {
    <span class="pl-en">saveInvitation</span><span class="pl-k">:</span> <span class="pl-k">function</span>() {
      <span class="pl-c1">alert</span>(<span class="pl-s"><span class="pl-pds">'</span>Saving of the following email address is in progress: <span
        class="pl-pds">'</span></span> <span class="pl-k">+</span> <span class="pl-v">this</span>.get(<span
        class="pl-s"><span class="pl-pds">'</span>emailAddress<span class="pl-pds">'</span></span>));
      <span class="pl-v">this</span>.set(<span class="pl-s"><span class="pl-pds">'</span>responseMessage<span
        class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Thank you! We've just saved your email address: <span
        class="pl-pds">"</span></span> <span class="pl-k">+</span> <span class="pl-v">this</span>.get(<span
        class="pl-s"><span class="pl-pds">'</span>emailAddress<span class="pl-pds">'</span></span>));
      <span class="pl-v">this</span>.set(<span class="pl-s"><span class="pl-pds">'</span>emailAddress<span
        class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span><span
        class="pl-pds">'</span></span>);
    }
  }

});</pre>
  </div>

  <p>If you click on the button, <code>saveInvitation</code> action will be called and show an alert box, after it will
    setup a responseMessage, finally delete the content of <code>emailAddress</code>.</p>

  <div class="highlight highlight-text-html-basic"><pre><span class="pl-c">&lt;!-- app/templates/index.hbs --&gt;</span>
&lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>jumbotron text-center<span
        class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">h1</span>&gt;Coming Soon&lt;/<span class="pl-ent">h1</span>&gt;

    &lt;<span class="pl-ent">br</span>/&gt;&lt;<span class="pl-ent">br</span>/&gt;

    &lt;<span class="pl-ent">p</span>&gt;Don't miss our launch date, request an invitation now.&lt;/<span
        class="pl-ent">p</span>&gt;

    &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>form-horizontal form-group form-group-lg row<span
        class="pl-pds">"</span></span>&gt;
        &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>col-xs-10 col-xs-offset-1 col-sm-6 col-sm-offset-1 col-md-5 col-md-offset-2<span
        class="pl-pds">"</span></span>&gt;
            {{input type="email" value=emailAddress class="form-control" placeholder="Please type your e-mail address." autofocus="autofocus"}}
        &lt;/<span class="pl-ent">div</span>&gt;
        &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>col-xs-10 col-xs-offset-1 col-sm-offset-0 col-sm-4 col-md-3<span class="pl-pds">"</span></span>&gt;
            &lt;<span class="pl-ent">button</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>btn btn-primary btn-lg btn-block<span class="pl-pds">"</span></span> {{<span
        class="pl-e">action</span> <span class="pl-s"><span class="pl-pds">'</span>sendInvitation<span
        class="pl-pds">'</span></span>}} <span class="pl-e">disabled</span>=<span class="pl-s"><span
        class="pl-pds">"</span>{{unless isValid 'disabled'}}<span class="pl-pds">"</span></span>&gt;Request invitation&lt;/<span
        class="pl-ent">button</span>&gt;
        &lt;/<span class="pl-ent">div</span>&gt;

    &lt;/<span class="pl-ent">div</span>&gt;

    {{#if responseMessage}}
      &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>alert alert-success<span class="pl-pds">"</span></span>&gt;{{responseMessage}}&lt;/<span
        class="pl-ent">div</span>&gt;
    {{/if}}


    &lt;<span class="pl-ent">br</span>/&gt;&lt;<span class="pl-ent">br</span>/&gt;

&lt;/<span class="pl-ent">div</span>&gt;</pre>
  </div>

  <h3>
    <a id="user-content-homework-1" class="anchor" href="#homework-1" aria-hidden="true"><span
        class="octicon octicon-link"></span></a>Homework</h3>

  <p>You already have an amazing <code>Contact</code> page, where we would like to add a contact form. In this contact
    form would be two fields. One field for email address and one field for text message. And there would be a “Send
    message” button. This button should be active only if email address field not empty and valid and there is some
    message in the text box. After clicking on that “Send message” button should appear an Alert with the email address
    and the message. When you close the alert message, the form should be cleared and a message should appear in the
    page in green box, that we got your message and get in touch soon.</p>

  <p>Hint: you already have a <code>contact.hbs</code> but you need a controller where you manage these logics.</p>

  <p>Bonus point if you can add validation to <code>textarea</code>. One option, the textarea shouldn't be empty, other
    option, the length of the message at least 5 character long.</p>

<pre><code>{{textarea class="form-control" placeholder="Your message. (At least 5 characters.)" rows=“7" value=message}}
</code></pre>

  <p>Short version of computed property for greater than or equal:</p>

<pre><code>Ember.computed.gte('yourProperty', number)
</code></pre>

  <p>(Please note, it is <code>computed.gte</code> and not <code>computed.get</code>.)</p>

  <p>If you have two computed property, and both has to be true you can use a third computed property with
    <code>and</code>.</p>

<pre><code>Ember.computed.and('firstComputedProperty', 'secondComputedProperty')
</code></pre>

  <p>You can get a string computed property length with <code>.length</code>. If your computed property is
    <code>message</code>, the length of that message is <code>message.length</code>.</p>

  <p>In terms of feedback on a form, this is a really cool solution on bootstrap. <a
      href="http://getbootstrap.com/css/#with-optional-icons">http://getbootstrap.com/css/#with-optional-icons</a></p>

  <h2>
    <a id="user-content-lesson-3" class="anchor" href="#lesson-3" aria-hidden="true"><span
        class="octicon octicon-link"></span></a>Lesson 3</h2>

  <h3>
    <a id="user-content-our-first-emberjs-model" class="anchor" href="#our-first-emberjs-model" aria-hidden="true"><span
        class="octicon octicon-link"></span></a>Our first Ember.js Model</h3>

  <p>We ask email addresses on the home page, but we don't save them at the moment in the database. It is time to
    implement this feature in our website.</p>

  <blockquote>
    <p>Please read the detailed introduction on Ember.js website about Ember.js Models: <a
        href="http://guides.emberjs.com/v2.0.0/models/">http://guides.emberjs.com/v2.0.0/models/</a></p>
  </blockquote>

  <p>Let's create our first model where we save email addresses for invitation. Type the following command in your
    command line.</p>

<pre><code>ember g model invitation email:string
</code></pre>

  <p>Hope you read about <code>store</code> in the official Guide. Let's use it.</p>

  <p>Update your <code>app/controllers/index.js</code> controller action. Instead of showing a useless alert message, we
    try to save our data.</p>

  <div class="highlight highlight-source-js"><pre><span class="pl-c">// app/controllers/index.js</span>
<span class="pl-k">import</span> Ember <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>ember<span
        class="pl-pds">'</span></span>;

<span class="pl-k">export</span> <span class="pl-k">default</span> Ember.Controller.extend({

  headerMessage<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Coming Soon<span
        class="pl-pds">'</span></span>,
  responseMessage<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span><span
        class="pl-pds">'</span></span>,
  emailAddress<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>,

  isValid<span class="pl-k">:</span> Ember.computed.<span class="pl-c1">match</span>(<span class="pl-s"><span
        class="pl-pds">'</span>emailAddress<span class="pl-pds">'</span></span>,<span class="pl-sr"> <span
        class="pl-pds">/</span><span class="pl-k">^</span><span class="pl-c1">.</span><span class="pl-k">+</span>@<span
        class="pl-c1">.</span><span class="pl-k">+</span><span class="pl-cce">\.</span><span class="pl-c1">.</span><span
        class="pl-k">+</span><span class="pl-k">$</span><span class="pl-pds">/</span></span>),

  actions<span class="pl-k">:</span> {
    <span class="pl-en">saveInvitation</span><span class="pl-k">:</span> <span class="pl-k">function</span>() {
      <span class="pl-k">var</span> email <span class="pl-k">=</span> <span class="pl-v">this</span>.get(<span
        class="pl-s"><span class="pl-pds">'</span>emailAddress<span class="pl-pds">'</span></span>);

      <span class="pl-k">var</span> newInvitation <span class="pl-k">=</span> <span class="pl-v">this</span>.store.createRecord(<span
        class="pl-s"><span class="pl-pds">'</span>invitation<span class="pl-pds">'</span></span>, {email<span
        class="pl-k">:</span> email});
      newInvitation.save();

      <span class="pl-v">this</span>.set(<span class="pl-s"><span class="pl-pds">'</span>responseMessage<span
        class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Thank you! We've just saved your email address: <span
        class="pl-pds">"</span></span> <span class="pl-k">+</span> <span class="pl-v">this</span>.get(<span
        class="pl-s"><span class="pl-pds">'</span>emailAddress<span class="pl-pds">'</span></span>));
      <span class="pl-v">this</span>.set(<span class="pl-s"><span class="pl-pds">'</span>emailAddress<span
        class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span><span
        class="pl-pds">'</span></span>);
    }
  }
});</pre>
  </div>

  <p>Check your browser, open the browser's console. Try to save an invitation email address on home page. You will see
    an error message in the console.</p>

  <p>Ember.js tried to send that data to a server, but we don't have a server yet. Let's build one.</p>

  <h3>
    <a id="user-content-setup-a-server-on-firebase" class="anchor" href="#setup-a-server-on-firebase"
       aria-hidden="true"><span class="octicon octicon-link"></span></a>Setup a server on Firebase</h3>

  <p>Firebase is a server and API service. Very easy to use. <a
      href="http://www.firebase.com">http://www.firebase.com</a></p>

  <ol>
    <li>Create an account.</li>
    <li>Read the guide and help section, especially the instructions about EmberFire: <a
        href="https://www.firebase.com/docs/web/libraries/ember/guide.html">https://www.firebase.com/docs/web/libraries/ember/guide.html</a>
    </li>
    <li>Follow the instructions. First, run the following command in your terminal: <code>ember install emberfire</code>
    </li>
    <li>Go back to Firebase and create an app there. Remember the name of your app.</li>
    <li>Update your config file in your Ember.js app. In <code>config/environment.js</code> should have a
      <code>firebase</code> property. Update the url with your Firebase app url what you have just created on Firebase
      website.
    </li>
  </ol>

  <div class="highlight highlight-source-js"><pre><span class="pl-c">// config/environment.js</span>

<span class="pl-k">var</span> <span class="pl-c1">ENV</span> <span class="pl-k">=</span> {
        modulePrefix<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>library-app<span
        class="pl-pds">'</span></span>,
        environment<span class="pl-k">:</span> environment,
        contentSecurityPolicy<span class="pl-k">:</span> {
            <span class="pl-s"><span class="pl-pds">'</span>connect-src<span class="pl-pds">'</span></span><span
        class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>'self' https://auth.firebase.com wss://*.firebaseio.com<span
        class="pl-pds">"</span></span>
        },
        firebase<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>https://WRITE_HERE_YOUR_APP_NAME.firebaseio.com/<span
        class="pl-pds">'</span></span>,
        baseURL<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>/<span
        class="pl-pds">'</span></span>,
        locationType<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>auto<span
        class="pl-pds">'</span></span>,</pre>
  </div>

  <p>Try out Request Invitation button again, check the browser's console messages and open the Firebase website, and
    check your app dashboard. You will see, that the email address, what you just saved on your home page, is sent to
    Firebase and it is saved on the server.</p>

  <p>Well done!</p>

  <h3>
    <a id="user-content-promise-and-the-this-context-in-javascript" class="anchor"
       href="#promise-and-the-this-context-in-javascript" aria-hidden="true"><span class="octicon octicon-link"></span></a>Promise
    and the <code>this</code> context in javascript</h3>

  <p>Promise is a unique asynchronous feature in javascript. Basically an object, which hasn't completed yet, but is
    expected in the future. You can read more about it on Mozilla website: <a
        href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Promise">https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Promise</a>
  </p>

  <p>In our code, we use a Promise: <code>.save()</code></p>

  <p>The <code>save</code> method on Ember Data Model is a <code>Promise</code>. It promises us that it is trying to
    save our data. It could be successfull or maybe return with error.</p>

  <p>We can catch the result of a <code>Promise</code> with a chained <code>.then()</code>. In our example:</p>

<pre><code>newInvitation.save().then(function(response) {
  console.log('Email address is saved.')
  })
</code></pre>

  <p>If the saving process is successfull, 'fulfilled', then we will get back a response from the server, what we can
    catch in our function parameter.</p>

  <p>We have to move our lines wich showing our success message inside this new function, because we would like to show
    that message only, if the data is really saved.</p>

  <p>If you would simply just copy paste, you will realize the code will not work as expected.</p>

<pre><code>newInvitation.save().then(function(response) {
  this.set('responseMessage', "Thank you! We've just saved your email address: " + this.get('emailAddress'));
  this.set('emailAddress', '');
  })
</code></pre>

  <p>In javascript the <code>this</code> points always to the object which is wrapping around. In the above example, the
    <code>this</code> will be undefined, because we are in a function after the Promise. Please learn more about it
    here: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this</a>
  </p>

  <p>We have to save the controller context in a local variable, what we can use inside our <code>then</code>.</p>

  <p>Please update your controller.</p>

  <div class="highlight highlight-source-js"><pre><span class="pl-c">// app/controllers/index.js</span>

<span class="pl-k">import</span> Ember <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>ember<span
        class="pl-pds">'</span></span>;

<span class="pl-k">export</span> <span class="pl-k">default</span> Ember.Controller.extend({

    headerMessage<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Coming Soon<span
        class="pl-pds">'</span></span>,
    responseMessage<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span><span
        class="pl-pds">'</span></span>,
    emailAddress<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span><span
        class="pl-pds">'</span></span>,

    isValid<span class="pl-k">:</span> Ember.computed.<span class="pl-c1">match</span>(<span class="pl-s"><span
        class="pl-pds">'</span>emailAddress<span class="pl-pds">'</span></span>,<span class="pl-sr"> <span
        class="pl-pds">/</span><span class="pl-k">^</span><span class="pl-c1">.</span><span class="pl-k">+</span>@<span
        class="pl-c1">.</span><span class="pl-k">+</span><span class="pl-cce">\.</span><span class="pl-c1">.</span><span
        class="pl-k">+</span><span class="pl-k">$</span><span class="pl-pds">/</span></span>),

    actions<span class="pl-k">:</span> {
        <span class="pl-en">saveInvitation</span><span class="pl-k">:</span> <span class="pl-k">function</span>() {
            <span class="pl-k">var</span> _that <span class="pl-k">=</span> <span class="pl-v">this</span>;
            <span class="pl-k">var</span> email <span class="pl-k">=</span> <span class="pl-v">this</span>.get(<span
        class="pl-s"><span class="pl-pds">'</span>emailAddress<span class="pl-pds">'</span></span>);

            <span class="pl-k">var</span> newInvitation <span class="pl-k">=</span> <span class="pl-v">this</span>.store.createRecord(<span
        class="pl-s"><span class="pl-pds">'</span>invitation<span class="pl-pds">'</span></span>, {
                email<span class="pl-k">:</span> email
            });
            newInvitation.save().then(<span class="pl-k">function</span>(<span class="pl-smi">response</span>) {
                _that.set(<span class="pl-s"><span class="pl-pds">'</span>responseMessage<span
        class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Thank you! We saved your email address with the following id: <span
        class="pl-pds">"</span></span> <span class="pl-k">+</span> response.get(<span class="pl-s"><span class="pl-pds">'</span>id<span
        class="pl-pds">'</span></span>));
                _that.set(<span class="pl-s"><span class="pl-pds">'</span>emailAddress<span
        class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span><span
        class="pl-pds">'</span></span>);
            });
        }
    }
});</pre>
  </div>

  <p>We save the <code>this</code> controller context in a <code>_that</code> local variable. We use this local variable
    inside our function after Promise. The above example uses <code>response</code> and shows the <code>id</code> of the
    generated database record.</p>

  <p>Great, our home home page is ready.</p>

  <h3>
    <a id="user-content-create-an-admin-page" class="anchor" href="#create-an-admin-page" aria-hidden="true"><span
        class="octicon octicon-link"></span></a>Create an Admin page</h3>

  <p>We would like to list the saved email addresses.</p>

  <p>Let's create a new route and page what we can reach with the following url: <code>http://localhost:4200/admin/invitations</code>
  </p>

<pre><code>ember g route admin/invitations
</code></pre>

  <p>Add this new page to the <code>navbar.hbs</code> with a dropdown.</p>

  <div class="highlight highlight-text-html-basic"><pre><span
      class="pl-c">&lt;!-- app/templates/navbar.hbs --&gt;</span>
&lt;<span class="pl-ent">nav</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>navbar navbar-inverse<span
        class="pl-pds">"</span></span>&gt;
  &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>container-fluid<span
        class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>navbar-header<span
        class="pl-pds">"</span></span>&gt;
      &lt;<span class="pl-ent">button</span> <span class="pl-e">type</span>=<span class="pl-s"><span
        class="pl-pds">"</span>button<span class="pl-pds">"</span></span> <span class="pl-e">class</span>=<span
        class="pl-s"><span class="pl-pds">"</span>navbar-toggle collapsed<span class="pl-pds">"</span></span> <span
        class="pl-e">data-toggle</span>=<span class="pl-s"><span class="pl-pds">"</span>collapse<span
        class="pl-pds">"</span></span> <span class="pl-e">data-target</span>=<span class="pl-s"><span
        class="pl-pds">"</span>#main-navbar<span class="pl-pds">"</span></span>&gt;
        &lt;<span class="pl-ent">span</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>sr-only<span class="pl-pds">"</span></span>&gt;Toggle navigation&lt;/<span
        class="pl-ent">span</span>&gt;
        &lt;<span class="pl-ent">span</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>icon-bar<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">span</span>&gt;
        &lt;<span class="pl-ent">span</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>icon-bar<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">span</span>&gt;
        &lt;<span class="pl-ent">span</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>icon-bar<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">span</span>&gt;
      &lt;/<span class="pl-ent">button</span>&gt;
      {{#link-to 'index' class="navbar-brand"}}Library App{{/link-to}}
    &lt;/<span class="pl-ent">div</span>&gt;

    &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>collapse navbar-collapse<span
        class="pl-pds">"</span></span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">"</span>main-navbar<span
        class="pl-pds">"</span></span>&gt;
      &lt;<span class="pl-ent">ul</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>nav navbar-nav<span class="pl-pds">"</span></span>&gt;
            {{#link-to 'index' tagName="li"}}&lt;<span class="pl-ent">a</span> <span class="pl-e">href</span>&gt;Home&lt;/<span
        class="pl-ent">a</span>&gt;{{/link-to}}
            {{#link-to 'about' tagName="li"}}&lt;<span class="pl-ent">a</span> <span class="pl-e">href</span>&gt;About&lt;/<span
        class="pl-ent">a</span>&gt;{{/link-to}}
            {{#link-to 'contact' tagName="li"}}&lt;<span class="pl-ent">a</span> <span class="pl-e">href</span>&gt;Contact&lt;/<span
        class="pl-ent">a</span>&gt;{{/link-to}}
      &lt;/<span class="pl-ent">ul</span>&gt;

      &lt;<span class="pl-ent">ul</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>nav navbar-nav navbar-right<span class="pl-pds">"</span></span>&gt;
          &lt;<span class="pl-ent">li</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>dropdown<span class="pl-pds">"</span></span>&gt;
              &lt;<span class="pl-ent">a</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>dropdown-toggle<span
        class="pl-pds">"</span></span> <span class="pl-e">data-toggle</span>=<span class="pl-s"><span
        class="pl-pds">"</span>dropdown<span class="pl-pds">"</span></span> <span class="pl-e">role</span>=<span
        class="pl-s"><span class="pl-pds">"</span>button<span class="pl-pds">"</span></span> <span class="pl-e">aria-haspopup</span>=<span
        class="pl-s"><span class="pl-pds">"</span>true<span class="pl-pds">"</span></span> <span class="pl-e">aria-expanded</span>=<span
        class="pl-s"><span class="pl-pds">"</span>false<span class="pl-pds">"</span></span>&gt;Admin&lt;<span
        class="pl-ent">span</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>caret<span
        class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">span</span>&gt;&lt;/<span class="pl-ent">a</span>&gt;
              &lt;<span class="pl-ent">ul</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>dropdown-menu<span class="pl-pds">"</span></span>&gt;
                  {{#link-to 'admin.invitations' tagName="li"}}&lt;<span class="pl-ent">a</span> <span
        class="pl-e">href</span>&gt;Invitations&lt;/<span class="pl-ent">a</span>&gt;{{/link-to}}
              &lt;/<span class="pl-ent">ul</span>&gt;
          &lt;/<span class="pl-ent">li</span>&gt;
      &lt;/<span class="pl-ent">ul</span>&gt;
    &lt;/<span class="pl-ent">div</span>&gt;<span class="pl-c">&lt;!-- /.navbar-collapse --&gt;</span>
  &lt;/<span class="pl-ent">div</span>&gt;<span class="pl-c">&lt;!-- /.container-fluid --&gt;</span>
&lt;/<span class="pl-ent">nav</span>&gt;</pre>
  </div>

  <p>Add a table to <code>app/templates/admin/invitations.hbs</code></p>

  <div class="highlight highlight-text-html-basic"><pre><span class="pl-c">&lt;!-- app/templates/admin/invitations.hbs --&gt;</span>

&lt;<span class="pl-ent">h1</span>&gt;Invitations&lt;/<span class="pl-ent">h1</span>&gt;

&lt;<span class="pl-ent">table</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>table table-bordered table-striped<span
        class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">thead</span>&gt;
      &lt;<span class="pl-ent">tr</span>&gt;
          &lt;<span class="pl-ent">th</span>&gt;ID&lt;/<span class="pl-ent">th</span>&gt;
          &lt;<span class="pl-ent">th</span>&gt;E-mail&lt;/<span class="pl-ent">th</span>&gt;
      &lt;/<span class="pl-ent">tr</span>&gt;
    &lt;/<span class="pl-ent">thead</span>&gt;
    &lt;<span class="pl-ent">tbody</span>&gt;
    {{#each model as |invitation|}}
        &lt;<span class="pl-ent">tr</span>&gt;
            &lt;<span class="pl-ent">th</span>&gt;{{invitation.id}}&lt;/<span class="pl-ent">th</span>&gt;
            &lt;<span class="pl-ent">td</span>&gt;{{invitation.email}}&lt;/<span class="pl-ent">td</span>&gt;
        &lt;/<span class="pl-ent">tr</span>&gt;
    {{/each}}

    &lt;/<span class="pl-ent">tbody</span>&gt;
&lt;/<span class="pl-ent">table</span>&gt;</pre>
  </div>

  <p>We use <code>{{#each}}{{/each}}</code> handlebar block to generate a list. The <code>model</code> variable will
    contain the array what we download from the server. Ember.js automatically populate responses from the server if we
    download it in the next step using our route file.</p>

  <p>Let's download our data from the server using route and Ember Data.</p>

  <blockquote>
    <p>Please read more about Routes Model: <a
        href="http://guides.emberjs.com/v2.0.0/routing/specifying-a-routes-model/">http://guides.emberjs.com/v2.0.0/routing/specifying-a-routes-model/</a>
    </p>
  </blockquote>

  <p>Add the following code to your <code>app/routes/admin/invitations.js</code> file:</p>

  <div class="highlight highlight-source-js"><pre><span class="pl-c">// app/routes/admin/invitations.js</span>
<span class="pl-k">import</span> Ember <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>ember<span
        class="pl-pds">'</span></span>;

<span class="pl-k">export</span> <span class="pl-k">default</span> Ember.Route.extend({

  <span class="pl-en">model</span><span class="pl-k">:</span> <span class="pl-k">function</span>() {
    <span class="pl-k">return</span> <span class="pl-v">this</span>.store.findAll(<span class="pl-s"><span
        class="pl-pds">'</span>invitation<span class="pl-pds">'</span></span>);
  }

});</pre>
  </div>

  <p>Launch your app and check your table in Admin.</p>

  <h3>
    <a id="user-content-crud-interface-for-libraries" class="anchor" href="#crud-interface-for-libraries"
       aria-hidden="true"><span class="octicon octicon-link"></span></a>CRUD interface for libraries</h3>

  <p>We will create a new section in our app, where we can add new library or list the created libraries.</p>

  <p>Firstly we create our <code>library</code> model.</p>

<pre><code>ember g model library name:string address:string phone:string
</code></pre>

  <p>Secondly we create our new route. At the moment we do it without ember-cli, only manually adding the following
    lines to our <code>router.js</code>:</p>

  <div class="highlight highlight-source-js"><pre><span class="pl-c">// app/router.js</span>

<span class="pl-k">import</span> Ember <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>ember<span
        class="pl-pds">'</span></span>;
<span class="pl-k">import</span> config <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>./config/environment<span
        class="pl-pds">'</span></span>;

<span class="pl-k">var</span> Router <span class="pl-k">=</span> Ember.Router.extend({
  location<span class="pl-k">:</span> config.locationType
});

Router.map(<span class="pl-k">function</span>() {
  <span class="pl-v">this</span>.route(<span class="pl-s"><span class="pl-pds">'</span>about<span
        class="pl-pds">'</span></span>);
  <span class="pl-v">this</span>.route(<span class="pl-s"><span class="pl-pds">'</span>contact<span
        class="pl-pds">'</span></span>);

  <span class="pl-v">this</span>.route(<span class="pl-s"><span class="pl-pds">'</span>admin<span
        class="pl-pds">'</span></span>, <span class="pl-k">function</span>() {
    <span class="pl-v">this</span>.route(<span class="pl-s"><span class="pl-pds">'</span>invitations<span
        class="pl-pds">'</span></span>);
  });
  <span class="pl-v">this</span>.route(<span class="pl-s"><span class="pl-pds">'</span>libraries<span
        class="pl-pds">'</span></span>, <span class="pl-k">function</span>() {
    <span class="pl-v">this</span>.route(<span class="pl-s"><span class="pl-pds">'</span>new<span
        class="pl-pds">'</span></span>);
  });
});

<span class="pl-k">export</span> <span class="pl-k">default</span> Router;</pre>
  </div>

  <p>Now we create 3 new templates. Our main <code>libraries.hbs</code>, a <code>libraries/index.hbs</code> for list and
    a <code>libraries/new.hbs</code> for new form.</p>

<pre><code>ember g template libraries
  ember g template libraries/index
  ember g template libraries/new
</code></pre>

  <p>Update your <code>navbar.hbs</code> main navigation section as following.</p>

  <div class="highlight highlight-text-html-basic"><pre><span
      class="pl-c">&lt;!-- app/templates/navbar.hbs --&gt;</span>

      &lt;<span class="pl-ent">ul</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>nav navbar-nav<span class="pl-pds">"</span></span>&gt;
            {{#link-to 'index' tagName="li"}}&lt;<span class="pl-ent">a</span> <span class="pl-e">href</span>&gt;Home&lt;/<span
        class="pl-ent">a</span>&gt;{{/link-to}}
            {{#link-to 'libraries' tagName="li"}}&lt;<span class="pl-ent">a</span> <span class="pl-e">href</span>&gt;Libraries&lt;/<span
        class="pl-ent">a</span>&gt;{{/link-to}}
            {{#link-to 'about' tagName="li"}}&lt;<span class="pl-ent">a</span> <span class="pl-e">href</span>&gt;About&lt;/<span
        class="pl-ent">a</span>&gt;{{/link-to}}
            {{#link-to 'contact' tagName="li"}}&lt;<span class="pl-ent">a</span> <span class="pl-e">href</span>&gt;Contact&lt;/<span
        class="pl-ent">a</span>&gt;{{/link-to}}
      &lt;/<span class="pl-ent">ul</span>&gt;
</pre>
  </div>

  <p>Add a submenu to <code>libraries.hbs</code></p>

  <div class="highlight highlight-text-html-basic"><pre><span
      class="pl-c">&lt;!-- app/templates/libraries.hbs --&gt;</span>
&lt;<span class="pl-ent">h1</span>&gt;Libraries&lt;/<span class="pl-ent">h1</span>&gt;

&lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>well<span
        class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">ul</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>nav nav-pills<span
        class="pl-pds">"</span></span>&gt;
      {{#link-to 'libraries.index' tagName="li"}}&lt;<span class="pl-ent">a</span> <span class="pl-e">href</span>&gt;List all&lt;/<span
        class="pl-ent">a</span>&gt;{{/link-to}}
      {{#link-to 'libraries.new' tagName="li"}}&lt;<span class="pl-ent">a</span> <span class="pl-e">href</span>&gt;Add new&lt;/<span
        class="pl-ent">a</span>&gt;{{/link-to}}
    &lt;/<span class="pl-ent">ul</span>&gt;
&lt;/<span class="pl-ent">div</span>&gt;

{{outlet}}</pre>
  </div>

  <p>Check your app, you should see a new menu point and there could be two submenu.</p>

  <p>Other two templates have the following content.</p>

  <div class="highlight highlight-text-html-basic"><pre><span class="pl-c">&lt;!-- app/templates/libraries/index.hbs --&gt;</span>
&lt;<span class="pl-ent">h2</span>&gt;List&lt;/<span class="pl-ent">h2</span>&gt;

{{#each model as |library|}}
    &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>panel panel-default<span
        class="pl-pds">"</span></span>&gt;
        &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>panel-heading<span class="pl-pds">"</span></span>&gt;
            &lt;<span class="pl-ent">h3</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>panel-title<span class="pl-pds">"</span></span>&gt;{{library.name}}&lt;/<span
        class="pl-ent">h3</span>&gt;
        &lt;/<span class="pl-ent">div</span>&gt;
        &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>panel-body<span class="pl-pds">"</span></span>&gt;
            &lt;<span class="pl-ent">p</span>&gt;Address: {{library.address}}&lt;/<span class="pl-ent">p</span>&gt;
            &lt;<span class="pl-ent">p</span>&gt;Phone: {{library.phone}}&lt;/<span class="pl-ent">p</span>&gt;
        &lt;/<span class="pl-ent">div</span>&gt;
    &lt;/<span class="pl-ent">div</span>&gt;
{{/each}}</pre>
  </div>

  <p>We generate a list from our model which will be downloaded in the route. We are using <code>panel</code> style from
    bootstrap here.</p>

  <div class="highlight highlight-text-html-basic"><pre><span class="pl-c">&lt;!-- app/templates/libraries/new.hbs --&gt;</span>
&lt;<span class="pl-ent">h2</span>&gt;Add a new local Library&lt;/<span class="pl-ent">h2</span>&gt;

&lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>form-horizontal<span
        class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>form-group<span
        class="pl-pds">"</span></span>&gt;
        &lt;<span class="pl-ent">label</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>col-sm-2 control-label<span class="pl-pds">"</span></span>&gt;Name&lt;/<span
        class="pl-ent">label</span>&gt;
        &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>col-sm-10<span class="pl-pds">"</span></span>&gt;
            {{input type="text" value=model.name class="form-control" placeholder="The name of the Library"}}
        &lt;/<span class="pl-ent">div</span>&gt;
    &lt;/<span class="pl-ent">div</span>&gt;
    &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>form-group<span
        class="pl-pds">"</span></span>&gt;
        &lt;<span class="pl-ent">label</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>col-sm-2 control-label<span class="pl-pds">"</span></span>&gt;Address&lt;/<span
        class="pl-ent">label</span>&gt;
        &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>col-sm-10<span class="pl-pds">"</span></span>&gt;
            {{input type="text" value=model.address class="form-control" placeholder="The address of the Library"}}
        &lt;/<span class="pl-ent">div</span>&gt;
    &lt;/<span class="pl-ent">div</span>&gt;
    &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>form-group<span
        class="pl-pds">"</span></span>&gt;
        &lt;<span class="pl-ent">label</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>col-sm-2 control-label<span class="pl-pds">"</span></span>&gt;Phone&lt;/<span
        class="pl-ent">label</span>&gt;
        &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>col-sm-10<span class="pl-pds">"</span></span>&gt;
            {{input type="text" value=model.phone class="form-control" placeholder="The phone number of the Library"}}
        &lt;/<span class="pl-ent">div</span>&gt;
    &lt;/<span class="pl-ent">div</span>&gt;
    &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>form-group<span
        class="pl-pds">"</span></span>&gt;
        &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>col-sm-offset-2 col-sm-10<span class="pl-pds">"</span></span>&gt;
            &lt;<span class="pl-ent">button</span> <span class="pl-e">type</span>=<span class="pl-s"><span
        class="pl-pds">"</span>submit<span class="pl-pds">"</span></span> <span class="pl-e">class</span>=<span
        class="pl-s"><span class="pl-pds">"</span>btn btn-default<span class="pl-pds">"</span></span> {{<span
        class="pl-e">action</span> <span class="pl-s"><span class="pl-pds">'</span>saveLibrary<span
        class="pl-pds">'</span></span> <span class="pl-e">model</span>}}&gt;Add to library list&lt;/<span
        class="pl-ent">button</span>&gt;
        &lt;/<span class="pl-ent">div</span>&gt;
    &lt;/<span class="pl-ent">div</span>&gt;
&lt;/<span class="pl-ent">div</span>&gt;</pre>
  </div>

  <p>We use <code>model</code> as our value store. You will see soon, that our model will be created in the route. The
    action will call <code>saveLibrary</code> function and we pass the <code>model</code> parameter to that function.
  </p>

  <p>In your <code>app/routes</code> folder create <code>libraries</code> folder and add two js files:
    <code>index.js</code> and <code>new.js</code></p>

  <div class="highlight highlight-source-js"><pre><span class="pl-c">// app/routes/libraries/index.js</span>
<span class="pl-k">import</span> Ember <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>ember<span
        class="pl-pds">'</span></span>;

<span class="pl-k">export</span> <span class="pl-k">default</span> Ember.Route.extend({

  <span class="pl-en">model</span><span class="pl-k">:</span> <span class="pl-k">function</span>() {
    <span class="pl-k">return</span> <span class="pl-v">this</span>.store.findAll(<span class="pl-s"><span
        class="pl-pds">'</span>library<span class="pl-pds">'</span></span>);
  }

})</pre>
  </div>

  <p>We download here all the library from the server.</p>

  <div class="highlight highlight-source-js"><pre><span class="pl-c">// app/routes/libraries/new.js</span>
<span class="pl-k">import</span> Ember <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>ember<span
        class="pl-pds">'</span></span>;

<span class="pl-k">export</span> <span class="pl-k">default</span> Ember.Route.extend({

  <span class="pl-en">model</span><span class="pl-k">:</span> <span class="pl-k">function</span> () {
    <span class="pl-k">return</span> <span class="pl-v">this</span>.store.createRecord(<span class="pl-s"><span
        class="pl-pds">'</span>library<span class="pl-pds">'</span></span>);
  },

  actions<span class="pl-k">:</span> {
    <span class="pl-en">saveLibrary</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span
        class="pl-smi">newLibrary</span>) {
      <span class="pl-k">var</span> _that <span class="pl-k">=</span> <span class="pl-v">this</span>;

      newLibrary.save().then(<span class="pl-k">function</span> (<span class="pl-smi">response</span>) {
        _that.transitionTo(<span class="pl-s"><span class="pl-pds">'</span>libraries<span class="pl-pds">'</span></span>);
      })
    },

    <span class="pl-en">willTransition</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span
        class="pl-smi">transition</span>) {
      <span class="pl-k">var</span> model <span class="pl-k">=</span> <span
        class="pl-v">this</span>.controller.get(<span class="pl-s"><span class="pl-pds">'</span>model<span
        class="pl-pds">'</span></span>);
      <span class="pl-k">if</span> (model.get(<span class="pl-s"><span class="pl-pds">'</span>isNew<span class="pl-pds">'</span></span>)) {
        model.destroyRecord();
      }
    }
  }
});</pre>
  </div>

  <p>In the above Route we create a new record and it will be the <code>model</code>. It automatically appears in the
    controller and in the template. In the <code>saveLibrary</code> action we accept a param and we save that model,
    after we send the application back to Libraries home page with <code>transitionTo</code>.</p>

  <p>There is an Ember.js built in action (event) <code>willTransition</code>, which will be called when you leave a
    page (route). In our case, we use this action to reset the model if we didn't save in the database before.</p>

  <h3>
    <a id="user-content-homework-2" class="anchor" href="#homework-2" aria-hidden="true"><span
        class="octicon octicon-link"></span></a>Homework</h3>

  <p>Improve further your Contact Page.</p>

  <ol>
    <li>Create a <code>contact</code> model with <code>email</code> and with <code>message</code> field.</li>
    <li>Save that model in the server when someone click on "Send" button on Contact form. Update your contact.js
      controller.
    </li>
    <li>Create an Admin page under <code>http://localhost:4200/admin/contacts</code>
    </li>
    <li>List all saved messages in a table.</li>
  </ol>

  <p>Option 2: Refactor your app contact section with usage of model in route. Move validation in model, move action in
    route and remove contact controller.</p>

  <h2>
    <a id="user-content-lesson-4" class="anchor" href="#lesson-4" aria-hidden="true"><span
        class="octicon octicon-link"></span></a>Lesson 4</h2>

  <h3>
    <a id="user-content-deploy-your-app-on-firebase" class="anchor" href="#deploy-your-app-on-firebase"
       aria-hidden="true"><span class="octicon octicon-link"></span></a>Deploy your app on Firebase</h3>

  <p>Follow the <a href="https://www.firebase.com/docs/web/libraries/ember/guide.html#section-ember-deploy">guide on
    Firebase</a>.</p>

<pre><code>npm install -g firebase-tools
  ember build
  firebase init
</code></pre>

  <p>Update <code>firebase.json</code></p>

<pre><code>{
  "firebase": "your-app-name",
  "public": "dist",
  "rewrites": [{
  "source": "**",
  "destination": "/index.html"
  }]
  }
</code></pre>

  <p>And deploy:</p>

<pre><code>firebase deploy
</code></pre>

  <p>Other great hosting service for deployment is <a href="http://www.divshot.com">www.divshot.com</a>. <a
      href="https://docs.divshot.com/integrations/emberjs">More about Ember.js app deployment on Divshot.</a></p>

  <h3>
    <a id="user-content-add-delete-edit-button-and-edit-route" class="anchor"
       href="#add-delete-edit-button-and-edit-route" aria-hidden="true"><span class="octicon octicon-link"></span></a>Add
    Delete, Edit button and Edit route</h3>

  <h4>
    <a id="user-content-upgrading-library-list-view-to-grid-view" class="anchor"
       href="#upgrading-library-list-view-to-grid-view" aria-hidden="true"><span
        class="octicon octicon-link"></span></a>Upgrading library list view to grid view</h4>

  <p>Let's upgrade our <code>app/templates/libraries/index.hbs</code> to show a nice grid layout. We have to add a
    little tweak to our stylesheet as well. You can see, there are two buttons in <code>panel-footer</code>. First
    button is a link to Edit screen, the second is a Delete button with an action. We send <code>library</code> as a
    param with that action call.</p>

  <div class="highlight highlight-text-html-basic"><pre><span class="pl-c">&lt;!-- app/templates/libraries/index.hbs --&gt;</span>
&lt;<span class="pl-ent">h2</span>&gt;List&lt;/<span class="pl-ent">h2</span>&gt;
&lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>row<span class="pl-pds">"</span></span>&gt;
  {{#each model as |library|}}
    &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>col-md-4<span
        class="pl-pds">"</span></span>&gt;
      &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>panel panel-default library-item<span class="pl-pds">"</span></span>&gt;
          &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>panel-heading<span class="pl-pds">"</span></span>&gt;
              &lt;<span class="pl-ent">h3</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>panel-title<span class="pl-pds">"</span></span>&gt;{{library.name}}&lt;/<span
        class="pl-ent">h3</span>&gt;
          &lt;/<span class="pl-ent">div</span>&gt;
          &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>panel-body<span class="pl-pds">"</span></span>&gt;
              &lt;<span class="pl-ent">p</span>&gt;Address: {{library.address}}&lt;/<span class="pl-ent">p</span>&gt;
              &lt;<span class="pl-ent">p</span>&gt;Phone: {{library.phone}}&lt;/<span class="pl-ent">p</span>&gt;
          &lt;/<span class="pl-ent">div</span>&gt;
          &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>panel-footer text-right<span class="pl-pds">"</span></span>&gt;
              {{#link-to 'libraries.edit' library.id class='btn btn-success btn-xs'}}Edit{{/link-to}}
              &lt;<span class="pl-ent">button</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>btn btn-danger btn-xs<span class="pl-pds">"</span></span> {{<span
        class="pl-e">action</span> <span class="pl-s"><span class="pl-pds">'</span>deleteLibrary<span
        class="pl-pds">'</span></span> <span class="pl-e">library</span>}}&gt;Delete&lt;/<span
        class="pl-ent">button</span>&gt;
          &lt;/<span class="pl-ent">div</span>&gt;
      &lt;/<span class="pl-ent">div</span>&gt;
    &lt;/<span class="pl-ent">div</span>&gt;
  {{/each}}
&lt;/<span class="pl-ent">div</span>&gt;</pre>
  </div>

  <div class="highlight highlight-source-css"><pre># app/styles/app<span class="pl-e">.scss</span>
<span class="pl-k">@import</span> <span class="pl-s"><span class="pl-pds">'</span>bootstrap<span class="pl-pds">'</span></span>;

<span class="pl-ent">body</span> {
  <span class="pl-c1"><span class="pl-c1">padding-top</span></span>: <span class="pl-c1">20<span class="pl-k">px</span></span>;
}

<span class="pl-ent">html</span> {
  <span class="pl-c1"><span class="pl-c1">overflow-y</span></span>: <span class="pl-c1">scroll</span>;
}

<span class="pl-e">.library-item</span> {
  <span class="pl-c1"><span class="pl-c1">min-height</span></span>: <span class="pl-c1">150<span class="pl-k">px</span></span>;
}</pre>
  </div>

  <p>If you would try to launch the app now, probably you will get an error message, because we haven't implemented
    <code>edit</code> route yet, and the delete <code>action</code> is missing also. Let's implement these.</p>

  <h4>
    <a id="user-content-duplicate-some-code-create-editjs-and-edithbs" class="anchor"
       href="#duplicate-some-code-create-editjs-and-edithbs" aria-hidden="true"><span
        class="octicon octicon-link"></span></a>Duplicate some code, create edit.js and edit.hbs</h4>

  <p>Add manually the new <code>edit</code> route to <code>router.js</code>. We setup a unique <code>path:</code> in the
    second parameter of <code>this.route()</code>. Because there is a <code>:</code> sign before the
    <code>library_id</code>, that part of the url will be copied in that variable as route param, and we can use it in
    our routes. For example, if the url is <code>http://example.com/libraries/1234/edit</code>, than <code>1234</code>
    will be passed as a param to route, so we can use in that route to download the model.</p>

  <div class="highlight highlight-source-js"><pre><span class="pl-c">// app/router.js</span>
<span class="pl-k">import</span> Ember <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>ember<span
        class="pl-pds">'</span></span>;
<span class="pl-k">import</span> config <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>./config/environment<span
        class="pl-pds">'</span></span>;

<span class="pl-k">var</span> Router <span class="pl-k">=</span> Ember.Router.extend({
  location<span class="pl-k">:</span> config.locationType
});

Router.map(<span class="pl-k">function</span>() {
  <span class="pl-v">this</span>.route(<span class="pl-s"><span class="pl-pds">'</span>about<span
        class="pl-pds">'</span></span>);
  <span class="pl-v">this</span>.route(<span class="pl-s"><span class="pl-pds">'</span>contact<span
        class="pl-pds">'</span></span>);

  <span class="pl-v">this</span>.route(<span class="pl-s"><span class="pl-pds">'</span>admin<span
        class="pl-pds">'</span></span>, <span class="pl-k">function</span>() {
    <span class="pl-v">this</span>.route(<span class="pl-s"><span class="pl-pds">'</span>invitations<span
        class="pl-pds">'</span></span>);
    <span class="pl-v">this</span>.route(<span class="pl-s"><span class="pl-pds">'</span>contacts<span
        class="pl-pds">'</span></span>);
  });
  <span class="pl-v">this</span>.route(<span class="pl-s"><span class="pl-pds">'</span>libraries<span
        class="pl-pds">'</span></span>, <span class="pl-k">function</span>() {
    <span class="pl-v">this</span>.route(<span class="pl-s"><span class="pl-pds">'</span>new<span
        class="pl-pds">'</span></span>);
    <span class="pl-v">this</span>.route(<span class="pl-s"><span class="pl-pds">'</span>edit<span
        class="pl-pds">'</span></span>, { path<span class="pl-k">:</span> <span class="pl-s"><span
        class="pl-pds">'</span>/:library_id/edit<span class="pl-pds">'</span></span> });
  });
});

<span class="pl-k">export</span> <span class="pl-k">default</span> Router;</pre>
  </div>

  <p>After we inserted this extra line in our router, time to create our <code>app/routes/libraries/edit.js</code>. You
    can use ember-cli or you can create manually. The code should looks like the following. More explanation below. (In
    this code, I use ES5 syntax, but later I will prefer ES6. If you would like you can use ES6 already.)</p>

  <div class="highlight highlight-source-js"><pre><span class="pl-c">// app/routes/libraries/edit.js</span>
<span class="pl-k">import</span> Ember <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>ember<span
        class="pl-pds">'</span></span>;

<span class="pl-k">export</span> <span class="pl-k">default</span> Ember.Route.extend({

  <span class="pl-en">model</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">params</span>) {
    <span class="pl-k">return</span> <span class="pl-v">this</span>.store.findRecord(<span class="pl-s"><span
        class="pl-pds">'</span>library<span class="pl-pds">'</span></span>, params.library_id);
  },

  actions<span class="pl-k">:</span> {

    <span class="pl-en">saveLibrary</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span
        class="pl-smi">newLibrary</span>) {
      <span class="pl-k">var</span> _that <span class="pl-k">=</span> <span class="pl-v">this</span>;

      newLibrary.save().then(<span class="pl-k">function</span> (<span class="pl-smi">response</span>) {
        _that.transitionTo(<span class="pl-s"><span class="pl-pds">'</span>libraries<span class="pl-pds">'</span></span>);
      })
    },

    <span class="pl-en">willTransition</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span
        class="pl-smi">transition</span>) {

      <span class="pl-k">var</span> model <span class="pl-k">=</span> <span
        class="pl-v">this</span>.controller.get(<span class="pl-s"><span class="pl-pds">'</span>model<span
        class="pl-pds">'</span></span>);

      <span class="pl-k">if</span> (model.get(<span class="pl-s"><span class="pl-pds">'</span>hasDirtyAttributes<span
        class="pl-pds">'</span></span>)) {
        <span class="pl-k">var</span> confirmation <span class="pl-k">=</span> <span class="pl-c1">confirm</span>(<span
        class="pl-s"><span
        class="pl-pds">"</span>Your changes haven't saved yet. Would you like to leave this form?<span
        class="pl-pds">"</span></span>);

        <span class="pl-k">if</span> (confirmation) {
          model.rollbackAttributes();
        } <span class="pl-k">else</span> {
          transition.<span class="pl-c1">abort</span>();
        }
      }
    }
  }
});</pre>
  </div>

  <p>More things happening in this file.</p>

  <p>First of all, in the <code>model</code> function, we have a <code>params</code> parameter. This params will get
    from the url that id. Simply, we can use it with <code>params.library_id</code>. The <code>this.store.findRecord('library',
      params.library_id);</code> line download only one record from the server with the given <code>id</code>. The
    <code>id</code> comes from the url.</p>

  <p>We added two actions as well. The first will save the changes and after redirect to the main <code>libraries</code>
    page.</p>

  <p>The second event-action will be called, when we are trying to leave this page, because we redirected from the
    previous action or the user clicked in a link on the website. In the first case, the changes already saved, but in
    the second case, it could happen, that the user modified something in the form, and haven't saved. It is a typical
    "dirty checking". We can read the <code>model</code> from the controller, we use Ember Model's <code>hasDirtyAttributes</code>
    computed property to check something changed in the model. So we popup an ugly confirmation window. If the user
    would like to leave the page, we just rollback changes with <code>model.rollbackAttributes()</code>. If the user
    would like to stay in the page we abort the transition with <code>transition.abort()</code>. You can see, that we
    use <code>transition</code> variable which is initiated as a param in <code>willTransition</code> function. Ember.js
    automatically provides this for us.</p>

  <p>Our template is still missing. Let's use our <code>new.hbs</code> and duplicate the code in <code>edit.hbs</code>
    with a little changes. We will fix this problem later with components, because code duplication is not nice.</p>

  <div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">h2</span>&gt;Edit Library&lt;/<span
      class="pl-ent">h2</span>&gt;

&lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>form-horizontal<span
        class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>form-group<span
        class="pl-pds">"</span></span>&gt;
        &lt;<span class="pl-ent">label</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>col-sm-2 control-label<span class="pl-pds">"</span></span>&gt;Name&lt;/<span
        class="pl-ent">label</span>&gt;
        &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>col-sm-10<span class="pl-pds">"</span></span>&gt;
          {{input type="text" value=model.name class="form-control" placeholder="The name of the Library"}}
        &lt;/<span class="pl-ent">div</span>&gt;
    &lt;/<span class="pl-ent">div</span>&gt;
    &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>form-group<span
        class="pl-pds">"</span></span>&gt;
        &lt;<span class="pl-ent">label</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>col-sm-2 control-label<span class="pl-pds">"</span></span>&gt;Address&lt;/<span
        class="pl-ent">label</span>&gt;
        &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>col-sm-10<span class="pl-pds">"</span></span>&gt;
          {{input type="text" value=model.address class="form-control" placeholder="The address of the Library"}}
        &lt;/<span class="pl-ent">div</span>&gt;
    &lt;/<span class="pl-ent">div</span>&gt;
    &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>form-group<span
        class="pl-pds">"</span></span>&gt;
        &lt;<span class="pl-ent">label</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>col-sm-2 control-label<span class="pl-pds">"</span></span>&gt;Phone&lt;/<span
        class="pl-ent">label</span>&gt;
        &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>col-sm-10<span class="pl-pds">"</span></span>&gt;
          {{input type="text" value=model.phone class="form-control" placeholder="The phone number of the Library"}}
        &lt;/<span class="pl-ent">div</span>&gt;
    &lt;/<span class="pl-ent">div</span>&gt;
    &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>form-group<span
        class="pl-pds">"</span></span>&gt;
        &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>col-sm-offset-2 col-sm-10<span class="pl-pds">"</span></span>&gt;
            &lt;<span class="pl-ent">button</span> <span class="pl-e">type</span>=<span class="pl-s"><span
        class="pl-pds">"</span>submit<span class="pl-pds">"</span></span> <span class="pl-e">class</span>=<span
        class="pl-s"><span class="pl-pds">"</span>btn btn-default<span class="pl-pds">"</span></span> {{<span
        class="pl-e">action</span> <span class="pl-s"><span class="pl-pds">'</span>saveLibrary<span
        class="pl-pds">'</span></span> <span class="pl-e">model</span>}}&gt;Save changes&lt;/<span
        class="pl-ent">button</span>&gt;
        &lt;/<span class="pl-ent">div</span>&gt;
    &lt;/<span class="pl-ent">div</span>&gt;
&lt;/<span class="pl-ent">div</span>&gt;</pre>
  </div>

  <p>If you launch your app, it should work, and you are able to edit the information from a library. You can check what
    is happening if you modify the data in the form, but finally click in a link somewhere without saving.</p>

  <h4>
    <a id="user-content-add-delete-action" class="anchor" href="#add-delete-action" aria-hidden="true"><span
        class="octicon octicon-link"></span></a>Add delete action</h4>

  <p>The delete action is still missing. Let's update <code>app/routes/libraries/index.js</code></p>

  <div class="highlight highlight-source-js"><pre><span class="pl-c">// app/routes/libraries/index.js</span>
<span class="pl-k">import</span> Ember <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>ember<span
        class="pl-pds">'</span></span>;

<span class="pl-k">export</span> <span class="pl-k">default</span> Ember.Route.extend({

  <span class="pl-en">model</span><span class="pl-k">:</span> <span class="pl-k">function</span>() {
    <span class="pl-k">return</span> <span class="pl-v">this</span>.store.findAll(<span class="pl-s"><span
        class="pl-pds">'</span>library<span class="pl-pds">'</span></span>);
  },

  actions<span class="pl-k">:</span> {
    <span class="pl-en">deleteLibrary</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span
        class="pl-smi">library</span>) {
      <span class="pl-k">var</span> confirmation <span class="pl-k">=</span> <span class="pl-c1">confirm</span>(<span
        class="pl-s"><span class="pl-pds">'</span>Are you sure?<span class="pl-pds">'</span></span>);

      <span class="pl-k">if</span> (confirmation) {
        library.destroyRecord();
      }
    }
  }

})</pre>
  </div>

  <h3>
    <a id="user-content-homework-3" class="anchor" href="#homework-3" aria-hidden="true"><span
        class="octicon octicon-link"></span></a>Homework</h3>

  <p>You can add delete buttons to your lists on Admin pages, so you can delete invitations and contact messages. It
    would be nice improvement as well if you could clean up <code>app/controllers/index.js</code> and add <code>createRecord</code>
    in <code>app/routes/index.js</code>. It would be similar to <code>libraries/new</code> section.</p>

  <h2>
    <a id="user-content-lesson-5" class="anchor" href="#lesson-5" aria-hidden="true"><span
        class="octicon octicon-link"></span></a>Lesson 5</h2>

  <h3>
    <a id="user-content-we-can-update-our-project-to-emberjs-21" class="anchor"
       href="#we-can-update-our-project-to-emberjs-21" aria-hidden="true"><span class="octicon octicon-link"></span></a>We
    can update our project to Ember.js 2.1</h3>

  <p>It is extreamly simple, what you have to update the version number in <code>bower.json</code> and <code>package.json</code>.
    After that, you have to run npm and bower update. It is a good practice to clean up the cache of npm and bower,
    because it could cause conflicts.</p>

  <p>In <code>package.json</code>, you should have the following line:</p>

<pre><code> "ember-data": "2.1",
</code></pre>

  <p>And <code>bower.json</code>:</p>

  <div class="highlight highlight-source-json"><pre>{
  <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>: <span class="pl-s"><span
        class="pl-pds">"</span>library-app<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>dependencies<span class="pl-pds">"</span></span>: {
    <span class="pl-s"><span class="pl-pds">"</span>ember<span class="pl-pds">"</span></span>: <span class="pl-s"><span
        class="pl-pds">"</span>2.1<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>ember-cli-shims<span class="pl-pds">"</span></span>: <span
        class="pl-s"><span class="pl-pds">"</span>ember-cli/ember-cli-shims#0.0.3<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>ember-cli-test-loader<span class="pl-pds">"</span></span>: <span
        class="pl-s"><span class="pl-pds">"</span>ember-cli-test-loader#0.1.3<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>ember-data<span class="pl-pds">"</span></span>: <span
        class="pl-s"><span class="pl-pds">"</span>2.1<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>ember-load-initializers<span class="pl-pds">"</span></span>: <span
        class="pl-s"><span class="pl-pds">"</span>ember-cli/ember-load-initializers#0.1.5<span
        class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>ember-qunit<span class="pl-pds">"</span></span>: <span class="pl-s"><span
        class="pl-pds">"</span>0.4.9<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>ember-qunit-notifications<span class="pl-pds">"</span></span>: <span
        class="pl-s"><span class="pl-pds">"</span>0.0.7<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>ember-resolver<span class="pl-pds">"</span></span>: <span
        class="pl-s"><span class="pl-pds">"</span>~0.1.18<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>jquery<span class="pl-pds">"</span></span>: <span class="pl-s"><span
        class="pl-pds">"</span>^1.11.3<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>loader.js<span class="pl-pds">"</span></span>: <span
        class="pl-s"><span class="pl-pds">"</span>ember-cli/loader.js#3.2.1<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>qunit<span class="pl-pds">"</span></span>: <span class="pl-s"><span
        class="pl-pds">"</span>~1.18.0<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>bootstrap-sass<span class="pl-pds">"</span></span>: <span
        class="pl-s"><span class="pl-pds">"</span>~3.3.5<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>firebase<span class="pl-pds">"</span></span>: <span
        class="pl-s"><span class="pl-pds">"</span>^2.1.0<span class="pl-pds">"</span></span>
  },
  <span class="pl-s"><span class="pl-pds">"</span>resolutions<span class="pl-pds">"</span></span>: {
    <span class="pl-s"><span class="pl-pds">"</span>ember<span class="pl-pds">"</span></span>: <span class="pl-s"><span
        class="pl-pds">"</span>2.1<span class="pl-pds">"</span></span>
  }
}</pre>
  </div>

  <p>Please note, that we use <code>resolutions</code> section as well.</p>

  <p>In your console run the following command:</p>

<pre><code>npm cache clean &amp;&amp; bower cache clean &amp;&amp; npm update &amp;&amp; bower update
</code></pre>

  <h3>
    <a id="user-content-cleaning-up-our-templates-with-components" class="anchor"
       href="#cleaning-up-our-templates-with-components" aria-hidden="true"><span
        class="octicon octicon-link"></span></a>Cleaning up our templates with components</h3>

  <p>First of all, please read more about Components in Ember.js Guide: <a
      href="http://guides.emberjs.com/v2.1.0/components/defining-a-component/">http://guides.emberjs.com/v2.1.0/components/defining-a-component/</a>
  </p>

  <p>We can generate a component with <code>ember g component</code> command. Let's create two components. First for
    library panel and one for forms.</p>

<pre><code>ember g component library-item
  ember g component library-item-form
</code></pre>

  <p>Each command generates a javascript file and a handlebar file. Javascript part sits in <code>app/components</code>
    folder, the template in <code>app/templates/components</code>.</p>

  <p>We can insert the following code in the <code>library-item</code> template.</p>

  <div class="highlight highlight-text-html-basic"><pre><span class="pl-c">&lt;!-- app/templates/components/library-item.hbs --&gt;</span>
&lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>panel panel-default library-item<span
        class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>panel-heading<span
        class="pl-pds">"</span></span>&gt;
        &lt;<span class="pl-ent">h3</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>panel-title<span class="pl-pds">"</span></span>&gt;{{item.name}}&lt;/<span
        class="pl-ent">h3</span>&gt;
    &lt;/<span class="pl-ent">div</span>&gt;
    &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>panel-body<span
        class="pl-pds">"</span></span>&gt;
        &lt;<span class="pl-ent">p</span>&gt;Address: {{item.address}}&lt;/<span class="pl-ent">p</span>&gt;
        &lt;<span class="pl-ent">p</span>&gt;Phone: {{item.phone}}&lt;/<span class="pl-ent">p</span>&gt;
    &lt;/<span class="pl-ent">div</span>&gt;
    &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>panel-footer text-right<span
        class="pl-pds">"</span></span>&gt;
      {{yield}}
    &lt;/<span class="pl-ent">div</span>&gt;
&lt;/<span class="pl-ent">div</span>&gt;</pre>
  </div>

  <p>You can see, that this code is quite similar what we have in <code>app/templates/libraries/index.hbs</code>,
    however instead of <code>model</code> we use <code>item</code>.</p>

  <p>The most important concept in terms of components, that they are totally independent from the context. They don't
    know more, only that what they originally have and what passed inside with attributes.</p>

  <p>We have a <code>{{yield}}</code> which means, that we can use this componenet as a block component. The code which
    wrapped with this component will be injected there.</p>

  <p>For example:</p>

  <div class="highlight highlight-text-html-basic"><pre>     {{#library-item item=model}}
        Closed
     {{/library-item}}</pre>
  </div>

  <p>In this case the <code>Closed</code> text will appear in the panel footer.</p>

  <p>Let's add html to our <code>library-item-form</code> component as well.</p>

  <div class="highlight highlight-text-html-basic"><pre><span class="pl-c">&lt;!-- app/templates/components/library-item-form.hbs --&gt;</span>
&lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>form-horizontal<span
        class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>form-group has-feedback {{if item.isValid 'has-success'}}<span
        class="pl-pds">"</span></span>&gt;
        &lt;<span class="pl-ent">label</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>col-sm-2 control-label<span class="pl-pds">"</span></span>&gt;Name*&lt;/<span
        class="pl-ent">label</span>&gt;
        &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>col-sm-10<span class="pl-pds">"</span></span>&gt;
          {{input type="text" value=item.name class="form-control" placeholder="The name of the Library"}}
          {{#if item.isValid}}&lt;<span class="pl-ent">span</span> <span class="pl-e">class</span>=<span
        class="pl-s"><span class="pl-pds">"</span>glyphicon glyphicon-ok form-control-feedback<span
        class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">span</span>&gt;{{/if}}
        &lt;/<span class="pl-ent">div</span>&gt;
    &lt;/<span class="pl-ent">div</span>&gt;
    &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>form-group<span
        class="pl-pds">"</span></span>&gt;
        &lt;<span class="pl-ent">label</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>col-sm-2 control-label<span class="pl-pds">"</span></span>&gt;Address&lt;/<span
        class="pl-ent">label</span>&gt;
        &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>col-sm-10<span class="pl-pds">"</span></span>&gt;
          {{input type="text" value=item.address class="form-control" placeholder="The address of the Library"}}
        &lt;/<span class="pl-ent">div</span>&gt;
    &lt;/<span class="pl-ent">div</span>&gt;
    &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>form-group<span
        class="pl-pds">"</span></span>&gt;
        &lt;<span class="pl-ent">label</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>col-sm-2 control-label<span class="pl-pds">"</span></span>&gt;Phone&lt;/<span
        class="pl-ent">label</span>&gt;
        &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>col-sm-10<span class="pl-pds">"</span></span>&gt;
          {{input type="text" value=item.phone class="form-control" placeholder="The phone number of the Library"}}
        &lt;/<span class="pl-ent">div</span>&gt;
    &lt;/<span class="pl-ent">div</span>&gt;
    &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>form-group<span
        class="pl-pds">"</span></span>&gt;
        &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>col-sm-offset-2 col-sm-10<span class="pl-pds">"</span></span>&gt;
            &lt;<span class="pl-ent">button</span> <span class="pl-e">type</span>=<span class="pl-s"><span
        class="pl-pds">"</span>submit<span class="pl-pds">"</span></span> <span class="pl-e">class</span>=<span
        class="pl-s"><span class="pl-pds">"</span>btn btn-default<span class="pl-pds">"</span></span> {{<span
        class="pl-e">action</span> <span class="pl-s"><span class="pl-pds">'</span>buttonClicked<span
        class="pl-pds">'</span></span> <span class="pl-e">item</span>}} <span class="pl-e">disabled</span>=<span
        class="pl-s"><span class="pl-pds">"</span>{{unless item.isValid 'disabled'}}<span class="pl-pds">"</span></span>&gt;{{buttonLabel}}&lt;/<span
        class="pl-ent">button</span>&gt;
        &lt;/<span class="pl-ent">div</span>&gt;
    &lt;/<span class="pl-ent">div</span>&gt;
&lt;/<span class="pl-ent">div</span>&gt;</pre>
  </div>

  <p>This code is almos the same what we used more times in our form in <code>libraries/new.hbs</code> and in <code>libraries/edit.hbs</code>
    templates.</p>

  <p>Some tiny improvement, that we can add a little validation to our <code>library</code> model. Please update <code>app/models/library.js</code>
    with a basic validation, where we check that the <code>name</code> is not empty.</p>

  <div class="highlight highlight-source-js"><pre><span class="pl-k">import</span> DS <span
      class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>ember-data<span
      class="pl-pds">'</span></span>;

<span class="pl-k">export</span> <span class="pl-k">default</span> <span class="pl-c1">DS</span>.Model.extend({
  name<span class="pl-k">:</span> <span class="pl-c1">DS</span>.attr(<span class="pl-s"><span class="pl-pds">'</span>string<span
        class="pl-pds">'</span></span>),
  address<span class="pl-k">:</span> <span class="pl-c1">DS</span>.attr(<span class="pl-s"><span class="pl-pds">'</span>string<span
        class="pl-pds">'</span></span>),
  phone<span class="pl-k">:</span> <span class="pl-c1">DS</span>.attr(<span class="pl-s"><span class="pl-pds">'</span>string<span
        class="pl-pds">'</span></span>),

  isValid<span class="pl-k">:</span> Ember.computed.notEmpty(<span class="pl-s"><span class="pl-pds">'</span>name<span
        class="pl-pds">'</span></span>)
});</pre>
  </div>

  <p>Time to clean up our templates.</p>

  <p>Using the <code>library-item</code> component in <code>app/templates/libraries/index.hbs</code> reduce the code and
    change our template more clearer.</p>

  <div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">h2</span>&gt;List&lt;/<span
      class="pl-ent">h2</span>&gt;
&lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>row<span class="pl-pds">"</span></span>&gt;
  {{#each model as |library|}}
    &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>col-md-4<span
        class="pl-pds">"</span></span>&gt;
      {{#library-item item=library}}
        {{#link-to 'libraries.edit' library.id class='btn btn-success btn-xs'}}Edit{{/link-to}}
        &lt;<span class="pl-ent">button</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>btn btn-danger btn-xs<span class="pl-pds">"</span></span> {{<span
        class="pl-e">action</span> <span class="pl-s"><span class="pl-pds">'</span>deleteLibrary<span
        class="pl-pds">'</span></span> <span class="pl-e">library</span>}}&gt;Delete&lt;/<span
        class="pl-ent">button</span>&gt;
      {{/library-item}}
    &lt;/<span class="pl-ent">div</span>&gt;
  {{/each}}
&lt;/<span class="pl-ent">div</span>&gt;</pre>
  </div>

  <p>We iterate our <code>model</code> and we pass deeper in the component that <code>library</code> local variable as
    <code>item</code>. The component's variable is always on the left side.</p>

  <p>Because this componenet is a block componenet, we can add some extra content to the library item footer. In this
    case, we add an Edit and a Delete button.</p>

  <p>You can check your project, you should see the same as before on the Libraries list page, however, the code is
    cleaner and we have a componenet, what we can reuse somewhere else as well.</p>

  <p>Update our <code>app/templates/libraries/new.hbs</code>.</p>

  <div class="highlight highlight-text-html-basic"><pre><span class="pl-c">&lt;!-- app/templates/libraries/new.hbs --&gt;</span>
&lt;<span class="pl-ent">h2</span>&gt;Add a new local Library&lt;/<span class="pl-ent">h2</span>&gt;

&lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>row<span class="pl-pds">"</span></span>&gt;

  &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>col-md-6<span
        class="pl-pds">"</span></span>&gt;

      {{library-item-form item=model buttonLabel='Add to library list' action='saveLibrary'}}

  &lt;/<span class="pl-ent">div</span>&gt;

  &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>col-md-4<span
        class="pl-pds">"</span></span>&gt;

      {{#library-item item=model}}
          &lt;<span class="pl-ent">br</span>/&gt;
      {{/library-item}}

  &lt;/<span class="pl-ent">div</span>&gt;

&lt;/<span class="pl-ent">div</span>&gt;</pre>
  </div>

  <p>Update <code>app/templates/libraries/edit.hbs</code>.</p>

  <div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">h2</span>&gt;Edit Library&lt;/<span
      class="pl-ent">h2</span>&gt;

&lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>row<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>col-md-6<span
        class="pl-pds">"</span></span>&gt;

      {{library-item-form item=model buttonLabel='Save changes' action='saveLibrary'}}

    &lt;/<span class="pl-ent">div</span>&gt;

    &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>col-md-4<span
        class="pl-pds">"</span></span>&gt;

      {{#library-item item=model}}
        &lt;<span class="pl-ent">br</span>/&gt;
      {{/library-item}}

    &lt;/<span class="pl-ent">div</span>&gt;

&lt;/<span class="pl-ent">div</span>&gt;</pre>
  </div>

  <p>Add action to <code>library-item-form.js</code></p>

  <div class="highlight highlight-source-js"><pre><span class="pl-k">import</span> Ember <span class="pl-k">from</span> <span
      class="pl-s"><span class="pl-pds">'</span>ember<span class="pl-pds">'</span></span>;

<span class="pl-k">export</span> <span class="pl-k">default</span> Ember.Component.extend({
  buttonLabel<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Save<span
        class="pl-pds">'</span></span>,

  actions<span class="pl-k">:</span> {
    <span class="pl-en">buttonClicked</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span
        class="pl-smi">param</span>){
      <span class="pl-v">this</span>.sendAction(<span class="pl-s"><span class="pl-pds">'</span>action<span
        class="pl-pds">'</span></span>, param);
    }
  }
});</pre>
  </div>

  <h3>
    <a id="user-content-merging-edithbs-and-newhbs-to-formhbs-and-use-rendertemplate-and-setupcontroller" class="anchor"
       href="#merging-edithbs-and-newhbs-to-formhbs-and-use-rendertemplate-and-setupcontroller" aria-hidden="true"><span
        class="octicon octicon-link"></span></a>Merging <code>edit.hbs</code> and <code>new.hbs</code> to
    <code>form.hbs</code> and use <code>renderTemplate()</code> and <code>setupController()</code>
  </h3>

  <p>As you can see <code>edit.hbs</code> and <code>new.hbs</code> are almost the same, so we can use the same template
    in both route.</p>

  <p>Let's create a <code>form.hbs</code> which will be our common template in Edit and in New page.</p>

  <div class="highlight highlight-text-html-basic"><pre><span class="pl-c">&lt;!-- /app/templates/libraries/form.hbs --&gt;</span>
&lt;<span class="pl-ent">h2</span>&gt;{{title}}&lt;/<span class="pl-ent">h2</span>&gt;

&lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>row<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>col-md-6<span
        class="pl-pds">"</span></span>&gt;
      {{library-item-form item=model buttonLabel=buttonLabel action='saveLibrary'}}
    &lt;/<span class="pl-ent">div</span>&gt;

    &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>col-md-4<span
        class="pl-pds">"</span></span>&gt;
      {{#library-item item=model}}
        &lt;<span class="pl-ent">br</span>/&gt;
      {{/library-item}}
    &lt;/<span class="pl-ent">div</span>&gt;

&lt;/<span class="pl-ent">div</span>&gt;</pre>
  </div>

  <p>For using the above common template, we have to do two things. Firstly we have to set <code>title</code> and <code>buttonLabel</code>
    params in our controllers, secondly we have to determine somehow, that our template is not the conventional
    template, we would like to use something unique. Setting controller params in a Route, we can use <code>setupController</code>
    hook, determining a unique template, we can use <code>renderTemplate</code> hook.</p>

  <p>With the new two hooks our <code>app/routes/libraries/new.js</code> would look like this:</p>

  <div class="highlight highlight-source-js"><pre><span class="pl-c">// app/routes/libraries/new.js</span>
<span class="pl-k">import</span> Ember <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>ember<span
        class="pl-pds">'</span></span>;

<span class="pl-k">export</span> <span class="pl-k">default</span> Ember.Route.extend({

  <span class="pl-en">model</span><span class="pl-k">:</span> <span class="pl-k">function</span> () {
    <span class="pl-k">return</span> <span class="pl-v">this</span>.store.createRecord(<span class="pl-s"><span
        class="pl-pds">'</span>library<span class="pl-pds">'</span></span>);
  },

  <span class="pl-en">setupController</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span
        class="pl-smi">controller</span>, <span class="pl-smi">model</span>) {
    <span class="pl-v">this</span>._super(controller, model);

    controller.set(<span class="pl-s"><span class="pl-pds">'</span>title<span class="pl-pds">'</span></span>, <span
        class="pl-s"><span class="pl-pds">'</span>Create a new library<span class="pl-pds">'</span></span>);
    controller.set(<span class="pl-s"><span class="pl-pds">'</span>buttonLabel<span
        class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>Create<span
        class="pl-pds">'</span></span>);
  },

  <span class="pl-en">renderTemplate</span>(<span class="pl-smi">controller</span>, <span class="pl-smi">model</span>) {
    <span class="pl-v">this</span>.render(<span class="pl-s"><span class="pl-pds">'</span>libraries/form<span
        class="pl-pds">'</span></span>);
  },

  actions<span class="pl-k">:</span> {
    <span class="pl-en">saveLibrary</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span
        class="pl-smi">newLibrary</span>) {
      <span class="pl-k">var</span> _that <span class="pl-k">=</span> <span class="pl-v">this</span>;

      newLibrary.save().then(<span class="pl-k">function</span> (<span class="pl-smi">response</span>) {
        _that.transitionTo(<span class="pl-s"><span class="pl-pds">'</span>libraries<span class="pl-pds">'</span></span>);
      })
    },

    <span class="pl-en">willTransition</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span
        class="pl-smi">transition</span>) {
      <span class="pl-k">var</span> model <span class="pl-k">=</span> <span
        class="pl-v">this</span>.controller.get(<span class="pl-s"><span class="pl-pds">'</span>model<span
        class="pl-pds">'</span></span>);
      <span class="pl-k">if</span> (model.get(<span class="pl-s"><span class="pl-pds">'</span>isNew<span class="pl-pds">'</span></span>)) {
        model.destroyRecord();
      }
    }
  }
});</pre>
  </div>

  <p>And our <code>edit.js</code></p>

  <div class="highlight highlight-source-js"><pre><span class="pl-c">// app/routes/libraries/edit.js</span>
<span class="pl-k">import</span> Ember <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>ember<span
        class="pl-pds">'</span></span>;

<span class="pl-k">export</span> <span class="pl-k">default</span> Ember.Route.extend({

  <span class="pl-en">model</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">params</span>) {
    <span class="pl-k">return</span> <span class="pl-v">this</span>.store.findRecord(<span class="pl-s"><span
        class="pl-pds">'</span>library<span class="pl-pds">'</span></span>, params.library_id);
  },

  <span class="pl-en">setupController</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span
        class="pl-smi">controller</span>, <span class="pl-smi">model</span>) {
    <span class="pl-v">this</span>._super(controller, model);

    controller.set(<span class="pl-s"><span class="pl-pds">'</span>title<span class="pl-pds">'</span></span>, <span
        class="pl-s"><span class="pl-pds">'</span>Edit library<span class="pl-pds">'</span></span>);
    controller.set(<span class="pl-s"><span class="pl-pds">'</span>buttonLabel<span
        class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>Save changes<span
        class="pl-pds">'</span></span>);
  },

  <span class="pl-en">renderTemplate</span>(<span class="pl-smi">controller</span>, <span class="pl-smi">model</span>) {
    <span class="pl-v">this</span>.render(<span class="pl-s"><span class="pl-pds">'</span>libraries/form<span
        class="pl-pds">'</span></span>);
  },

  actions<span class="pl-k">:</span> {

    <span class="pl-en">saveLibrary</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span
        class="pl-smi">newLibrary</span>) {
      <span class="pl-k">var</span> _that <span class="pl-k">=</span> <span class="pl-v">this</span>;

      newLibrary.save().then(<span class="pl-k">function</span> (<span class="pl-smi">response</span>) {
        _that.transitionTo(<span class="pl-s"><span class="pl-pds">'</span>libraries<span class="pl-pds">'</span></span>);
      })
    },

    <span class="pl-en">willTransition</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span
        class="pl-smi">transition</span>) {

      <span class="pl-k">var</span> model <span class="pl-k">=</span> <span
        class="pl-v">this</span>.controller.get(<span class="pl-s"><span class="pl-pds">'</span>model<span
        class="pl-pds">'</span></span>);

      <span class="pl-k">if</span> (model.get(<span class="pl-s"><span class="pl-pds">'</span>hasDirtyAttributes<span
        class="pl-pds">'</span></span>)) {
        <span class="pl-k">var</span> confirmation <span class="pl-k">=</span> <span class="pl-c1">confirm</span>(<span
        class="pl-s"><span
        class="pl-pds">"</span>Your changes haven't saved yet. Would you like to leave this form?<span
        class="pl-pds">"</span></span>);

        <span class="pl-k">if</span> (confirmation) {
          model.rollbackAttributes();
        } <span class="pl-k">else</span> {
          transition.<span class="pl-c1">abort</span>();
        }
      }
    }
  }
});</pre>
  </div>

  <p>You can delete the <code>edit.hbs</code> and <code>new.hbs</code> from <code>app/templates/libraries/</code>
    folder. We don't need them anymore.</p>

  <p>More information about <code>setupController</code>: <a
      href="http://emberjs.com/api/classes/Ember.Route.html#method_setupController">http://emberjs.com/api/classes/Ember.Route.html#method_setupController</a>
  </p>

  <p>More information about <code>renderTemplate</code>: <a
      href="http://emberjs.com/api/classes/Ember.Route.html#method_renderTemplate">http://emberjs.com/api/classes/Ember.Route.html#method_renderTemplate</a>
  </p>

  <h3>
    <a id="user-content-create-a-tiny-bootstrap-nav-link-to-component-for-liaali" class="anchor"
       href="#create-a-tiny-bootstrap-nav-link-to-component-for-liaali" aria-hidden="true"><span
        class="octicon octicon-link"></span></a>Create a tiny bootstrap <code>nav-link-to</code> component for <code>
    &lt;li&gt;&lt;a&gt;&lt;/a&gt;&lt;/li&gt;</code>
  </h3>

  <p>Time to clean up our navigation template. We can create a nice component to manage bootstrap navbar links
    properly.</p>

  <p>Open your terminal and generate a new component with <code>ember-cli</code>.</p>

  <p><code>ember g component nav-link-to</code></p>

  <p>Because we would like just slightly modify the main <code>LinkComponent</code>, we should just <code>extend</code>
    that class. There is a <code>tagName</code> property, which determines the main tag of a component.</p>

  <p>Update <code>app/components/nav-link-to.js</code>:</p>

  <div class="highlight highlight-source-js"><pre><span class="pl-c">// app/components/nav-link-to.js</span>
<span class="pl-k">import</span> Ember <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>ember<span
        class="pl-pds">'</span></span>;

<span class="pl-k">export</span> <span class="pl-k">default</span> Ember.LinkComponent.extend({
  tagName<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>li<span
        class="pl-pds">'</span></span>
});</pre>
  </div>

  <p>Note: don't forget to rewrite <code>Ember.Component.extend</code> to <code>Ember.LinkComponent.extend</code>.</p>

  <p>Our connected template will be the following:</p>

  <div class="highlight highlight-text-html-basic"><pre><span class="pl-c">&lt;!-- app/templates/components/nav-link-to.hbs --&gt;</span>
&lt;<span class="pl-ent">a</span> <span class="pl-e">href</span>=<span class="pl-s"><span class="pl-pds">"</span><span
        class="pl-pds">"</span></span>&gt;{{yield}}&lt;/<span class="pl-ent">a</span>&gt;</pre>
  </div>

  <p>After that we are ready to use our component and we can update our <code>navbar.hbs</code>.</p>

  <div class="highlight highlight-text-html-basic"><pre><span
      class="pl-c">&lt;!-- app/templates/navbar.hbs --&gt;</span>
&lt;<span class="pl-ent">nav</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>navbar navbar-inverse<span
        class="pl-pds">"</span></span>&gt;
  &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>container-fluid<span
        class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>navbar-header<span
        class="pl-pds">"</span></span>&gt;
      &lt;<span class="pl-ent">button</span> <span class="pl-e">type</span>=<span class="pl-s"><span
        class="pl-pds">"</span>button<span class="pl-pds">"</span></span> <span class="pl-e">class</span>=<span
        class="pl-s"><span class="pl-pds">"</span>navbar-toggle collapsed<span class="pl-pds">"</span></span> <span
        class="pl-e">data-toggle</span>=<span class="pl-s"><span class="pl-pds">"</span>collapse<span
        class="pl-pds">"</span></span> <span class="pl-e">data-target</span>=<span class="pl-s"><span
        class="pl-pds">"</span>#main-navbar<span class="pl-pds">"</span></span>&gt;
        &lt;<span class="pl-ent">span</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>sr-only<span class="pl-pds">"</span></span>&gt;Toggle navigation&lt;/<span
        class="pl-ent">span</span>&gt;
        &lt;<span class="pl-ent">span</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>icon-bar<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">span</span>&gt;
        &lt;<span class="pl-ent">span</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>icon-bar<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">span</span>&gt;
        &lt;<span class="pl-ent">span</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>icon-bar<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">span</span>&gt;
      &lt;/<span class="pl-ent">button</span>&gt;
      {{#link-to 'index' class="navbar-brand"}}Library App{{/link-to}}
    &lt;/<span class="pl-ent">div</span>&gt;

    &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>collapse navbar-collapse<span
        class="pl-pds">"</span></span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">"</span>main-navbar<span
        class="pl-pds">"</span></span>&gt;
      &lt;<span class="pl-ent">ul</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>nav navbar-nav<span class="pl-pds">"</span></span>&gt;
            {{#nav-link-to 'index'}}Home{{/nav-link-to}}
            {{#nav-link-to 'libraries'}}Libraries{{/nav-link-to}}
            {{#nav-link-to 'about'}}About{{/nav-link-to}}
            {{#nav-link-to 'contact'}}Contact{{/nav-link-to}}
      &lt;/<span class="pl-ent">ul</span>&gt;

      &lt;<span class="pl-ent">ul</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>nav navbar-nav navbar-right<span class="pl-pds">"</span></span>&gt;
          &lt;<span class="pl-ent">li</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>dropdown<span class="pl-pds">"</span></span>&gt;
              &lt;<span class="pl-ent">a</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>dropdown-toggle<span
        class="pl-pds">"</span></span> <span class="pl-e">data-toggle</span>=<span class="pl-s"><span
        class="pl-pds">"</span>dropdown<span class="pl-pds">"</span></span> <span class="pl-e">role</span>=<span
        class="pl-s"><span class="pl-pds">"</span>button<span class="pl-pds">"</span></span> <span class="pl-e">aria-haspopup</span>=<span
        class="pl-s"><span class="pl-pds">"</span>true<span class="pl-pds">"</span></span> <span class="pl-e">aria-expanded</span>=<span
        class="pl-s"><span class="pl-pds">"</span>false<span class="pl-pds">"</span></span>&gt;Admin&lt;<span
        class="pl-ent">span</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>caret<span
        class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">span</span>&gt;&lt;/<span class="pl-ent">a</span>&gt;
              &lt;<span class="pl-ent">ul</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>dropdown-menu<span class="pl-pds">"</span></span>&gt;
                  {{#nav-link-to 'admin.invitations'}}Invitations{{/nav-link-to}}
                  {{#nav-link-to 'admin.contacts'}}Contacts{{/nav-link-to}}
              &lt;/<span class="pl-ent">ul</span>&gt;
          &lt;/<span class="pl-ent">li</span>&gt;
      &lt;/<span class="pl-ent">ul</span>&gt;
    &lt;/<span class="pl-ent">div</span>&gt;<span class="pl-c">&lt;!-- /.navbar-collapse --&gt;</span>
  &lt;/<span class="pl-ent">div</span>&gt;<span class="pl-c">&lt;!-- /.container-fluid --&gt;</span>
&lt;/<span class="pl-ent">nav</span>&gt;</pre>
  </div>

  <h2>
    <a id="user-content-lesson-6" class="anchor" href="#lesson-6" aria-hidden="true"><span
        class="octicon octicon-link"></span></a>Lesson 6</h2>

  <p>In this lesson we extend our models with <code>book</code> and <code>author</code>. Setup relation between models.
    We create a new page, where we using an external js library to generate dummy data to fill up our database
    automatically.</p>

  <h3>
    <a id="user-content-creating-some-new-models-and-setup-relations" class="anchor"
       href="#creating-some-new-models-and-setup-relations" aria-hidden="true"><span
        class="octicon octicon-link"></span></a>Creating some new models and setup relations</h3>

  <p>In our simple World, we have Libraries. We have Authors, whoes could have a couple of books, however a book only
    could be in one Library. And one book has only one Author.</p>

  <p>To generate new models we use <code>ember-cli</code>.</p>

  <p>Run the followings in your terminal.</p>

<pre><code>ember g model book title:string releaseYear:date library:belongsTo author:belongsTo

  ember g model author name:string books:hasMany
</code></pre>

  <p>Add <code>hasMany</code> relation to <code>library</code> model manually.</p>

  <div class="highlight highlight-source-js"><pre><span class="pl-k">import</span> DS <span
      class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>ember-data<span
      class="pl-pds">'</span></span>;

<span class="pl-k">export</span> <span class="pl-k">default</span> <span class="pl-c1">DS</span>.Model.extend({
  name<span class="pl-k">:</span> <span class="pl-c1">DS</span>.attr(<span class="pl-s"><span class="pl-pds">'</span>string<span
        class="pl-pds">'</span></span>),
  address<span class="pl-k">:</span> <span class="pl-c1">DS</span>.attr(<span class="pl-s"><span class="pl-pds">'</span>string<span
        class="pl-pds">'</span></span>),
  phone<span class="pl-k">:</span> <span class="pl-c1">DS</span>.attr(<span class="pl-s"><span class="pl-pds">'</span>string<span
        class="pl-pds">'</span></span>),

  books<span class="pl-k">:</span> <span class="pl-c1">DS</span>.hasMany(<span class="pl-s"><span
        class="pl-pds">'</span>books<span class="pl-pds">'</span></span>),

  isValid<span class="pl-k">:</span> Ember.computed.notEmpty(<span class="pl-s"><span class="pl-pds">'</span>name<span
        class="pl-pds">'</span></span>),
});</pre>
  </div>

  <h3>
    <a id="user-content-create-a-new-admin-page-seeder-and-download-all-models-in-the-same-route" class="anchor"
       href="#create-a-new-admin-page-seeder-and-download-all-models-in-the-same-route" aria-hidden="true"><span
        class="octicon octicon-link"></span></a>Create a new Admin page 'Seeder' and download all models in the same
    route.</h3>

  <p>Create a new page using <code>ember-cli</code> in your terminal:</p>

<pre><code>ember g route admin/seeder
</code></pre>

  <p>Check <code>router.js</code>. A new route should be there which point to <code>seeder</code>.</p>

  <div class="highlight highlight-source-js"><pre><span class="pl-c">// app/router.js</span>
<span class="pl-k">import</span> Ember <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>ember<span
        class="pl-pds">'</span></span>;
<span class="pl-k">import</span> config <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>./config/environment<span
        class="pl-pds">'</span></span>;

<span class="pl-k">var</span> Router <span class="pl-k">=</span> Ember.Router.extend({
  location<span class="pl-k">:</span> config.locationType
});

Router.map(<span class="pl-k">function</span>() {
  <span class="pl-v">this</span>.route(<span class="pl-s"><span class="pl-pds">'</span>about<span
        class="pl-pds">'</span></span>);
  <span class="pl-v">this</span>.route(<span class="pl-s"><span class="pl-pds">'</span>contact<span
        class="pl-pds">'</span></span>);

  <span class="pl-v">this</span>.route(<span class="pl-s"><span class="pl-pds">'</span>admin<span
        class="pl-pds">'</span></span>, <span class="pl-k">function</span>() {
    <span class="pl-v">this</span>.route(<span class="pl-s"><span class="pl-pds">'</span>invitations<span
        class="pl-pds">'</span></span>);
    <span class="pl-v">this</span>.route(<span class="pl-s"><span class="pl-pds">'</span>contacts<span
        class="pl-pds">'</span></span>);
    <span class="pl-v">this</span>.route(<span class="pl-s"><span class="pl-pds">'</span>seeder<span
        class="pl-pds">'</span></span>);
  });
  <span class="pl-v">this</span>.route(<span class="pl-s"><span class="pl-pds">'</span>libraries<span
        class="pl-pds">'</span></span>, <span class="pl-k">function</span>() {
    <span class="pl-v">this</span>.route(<span class="pl-s"><span class="pl-pds">'</span>new<span
        class="pl-pds">'</span></span>);
    <span class="pl-v">this</span>.route(<span class="pl-s"><span class="pl-pds">'</span>edit<span
        class="pl-pds">'</span></span>, { path<span class="pl-k">:</span> <span class="pl-s"><span
        class="pl-pds">'</span>/:library_id/edit<span class="pl-pds">'</span></span> });
  });
});

<span class="pl-k">export</span> <span class="pl-k">default</span> Router;</pre>
  </div>

  <p>Extend your <code>navbar.hbs</code> with the new page.</p>

  <div class="highlight highlight-text-html-basic"><pre><span
      class="pl-c">&lt;!-- app/templates/navbar.hbs --&gt;</span>
&lt;<span class="pl-ent">nav</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>navbar navbar-inverse<span
        class="pl-pds">"</span></span>&gt;
  &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>container-fluid<span
        class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>navbar-header<span
        class="pl-pds">"</span></span>&gt;
      &lt;<span class="pl-ent">button</span> <span class="pl-e">type</span>=<span class="pl-s"><span
        class="pl-pds">"</span>button<span class="pl-pds">"</span></span> <span class="pl-e">class</span>=<span
        class="pl-s"><span class="pl-pds">"</span>navbar-toggle collapsed<span class="pl-pds">"</span></span> <span
        class="pl-e">data-toggle</span>=<span class="pl-s"><span class="pl-pds">"</span>collapse<span
        class="pl-pds">"</span></span> <span class="pl-e">data-target</span>=<span class="pl-s"><span
        class="pl-pds">"</span>#main-navbar<span class="pl-pds">"</span></span>&gt;
        &lt;<span class="pl-ent">span</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>sr-only<span class="pl-pds">"</span></span>&gt;Toggle navigation&lt;/<span
        class="pl-ent">span</span>&gt;
        &lt;<span class="pl-ent">span</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>icon-bar<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">span</span>&gt;
        &lt;<span class="pl-ent">span</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>icon-bar<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">span</span>&gt;
        &lt;<span class="pl-ent">span</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>icon-bar<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">span</span>&gt;
      &lt;/<span class="pl-ent">button</span>&gt;
      {{#link-to 'index' class="navbar-brand"}}Library App{{/link-to}}
    &lt;/<span class="pl-ent">div</span>&gt;

    &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>collapse navbar-collapse<span
        class="pl-pds">"</span></span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">"</span>main-navbar<span
        class="pl-pds">"</span></span>&gt;
      &lt;<span class="pl-ent">ul</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>nav navbar-nav<span class="pl-pds">"</span></span>&gt;
            {{#nav-link-to 'index'}}Home{{/nav-link-to}}
            {{#nav-link-to 'libraries'}}Libraries{{/nav-link-to}}
            {{#nav-link-to 'about'}}About{{/nav-link-to}}
            {{#nav-link-to 'contact'}}Contact{{/nav-link-to}}
      &lt;/<span class="pl-ent">ul</span>&gt;

      &lt;<span class="pl-ent">ul</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>nav navbar-nav navbar-right<span class="pl-pds">"</span></span>&gt;
          &lt;<span class="pl-ent">li</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>dropdown<span class="pl-pds">"</span></span>&gt;
              &lt;<span class="pl-ent">a</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>dropdown-toggle<span
        class="pl-pds">"</span></span> <span class="pl-e">data-toggle</span>=<span class="pl-s"><span
        class="pl-pds">"</span>dropdown<span class="pl-pds">"</span></span> <span class="pl-e">role</span>=<span
        class="pl-s"><span class="pl-pds">"</span>button<span class="pl-pds">"</span></span> <span class="pl-e">aria-haspopup</span>=<span
        class="pl-s"><span class="pl-pds">"</span>true<span class="pl-pds">"</span></span> <span class="pl-e">aria-expanded</span>=<span
        class="pl-s"><span class="pl-pds">"</span>false<span class="pl-pds">"</span></span>&gt;Admin&lt;<span
        class="pl-ent">span</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>caret<span
        class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">span</span>&gt;&lt;/<span class="pl-ent">a</span>&gt;
              &lt;<span class="pl-ent">ul</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>dropdown-menu<span class="pl-pds">"</span></span>&gt;
                  {{#nav-link-to 'admin.invitations'}}Invitations{{/nav-link-to}}
                  {{#nav-link-to 'admin.contacts'}}Contacts{{/nav-link-to}}
                  {{#nav-link-to 'admin.seeder'}}Seeder{{/nav-link-to}}
              &lt;/<span class="pl-ent">ul</span>&gt;
          &lt;/<span class="pl-ent">li</span>&gt;
      &lt;/<span class="pl-ent">ul</span>&gt;
    &lt;/<span class="pl-ent">div</span>&gt;<span class="pl-c">&lt;!-- /.navbar-collapse --&gt;</span>
  &lt;/<span class="pl-ent">div</span>&gt;<span class="pl-c">&lt;!-- /.container-fluid --&gt;</span>
&lt;/<span class="pl-ent">nav</span>&gt;</pre>
  </div>

  <h4>
    <a id="user-content-using-emberrsvphash-for-downloading-more-models-in-the-same-route" class="anchor"
       href="#using-emberrsvphash-for-downloading-more-models-in-the-same-route" aria-hidden="true"><span
        class="octicon octicon-link"></span></a>Using <code>Ember.RSVP.hash()</code> for downloading more models in the
    same route</h4>

  <p>For downloading more models in the same route we have to use <code>Ember.RSVP.hash()</code> function in
    <code>model</code> hook.</p>

  <p><code>RSVP.hash</code> wraps more promises and return a nicely structured hashed object. More information: <a
      href="http://emberjs.com/api/classes/RSVP.html#method_hash">http://emberjs.com/api/classes/RSVP.html#method_hash</a>
  </p>

  <div class="highlight highlight-source-js"><pre><span class="pl-c">// app/routes/admin/seeder.js</span>
<span class="pl-k">import</span> Ember <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>ember<span
        class="pl-pds">'</span></span>;

<span class="pl-k">export</span> <span class="pl-k">default</span> Ember.Route.extend({

  <span class="pl-en">model</span>() {
    <span class="pl-k">return</span> Ember.RSVP.<span class="pl-c1">hash</span>({
      libraries<span class="pl-k">:</span> <span class="pl-v">this</span>.store.findAll(<span class="pl-s"><span
        class="pl-pds">'</span>library<span class="pl-pds">'</span></span>),
      books<span class="pl-k">:</span> <span class="pl-v">this</span>.store.findAll(<span class="pl-s"><span
        class="pl-pds">'</span>book<span class="pl-pds">'</span></span>),
      authors<span class="pl-k">:</span> <span class="pl-v">this</span>.store.findAll(<span class="pl-s"><span
        class="pl-pds">'</span>author<span class="pl-pds">'</span></span>)
    })
  },

  <span class="pl-en">setupController</span>(<span class="pl-smi">controller</span>, <span class="pl-smi">model</span>) {
    controller.set(<span class="pl-s"><span class="pl-pds">'</span>libraries<span class="pl-pds">'</span></span>, model.libraries);
    controller.set(<span class="pl-s"><span class="pl-pds">'</span>books<span class="pl-pds">'</span></span>, model.books);
    controller.set(<span class="pl-s"><span class="pl-pds">'</span>authors<span class="pl-pds">'</span></span>, model.authors);
  }
});</pre>
  </div>

  <p>RSVP tries to download all model, it will return with fullfield state only if all three download were
    successfull.</p>

  <p>In the <code>setupController</code> hook, we split the model and setup new controller properties.</p>

  <h3>
    <a id="user-content-little-summary-about-routes-hooks" class="anchor" href="#little-summary-about-routes-hooks"
       aria-hidden="true"><span class="octicon octicon-link"></span></a>Little summary about route`s hooks</h3>

  <p>You already use a couple of hook in routes, which will be called in ceartain sequence.</p>

  <p>You can play with it and have a little experiment in one of your route.</p>

  <div class="highlight highlight-source-js"><pre><span class="pl-k">import</span> Ember <span class="pl-k">from</span> <span
      class="pl-s"><span class="pl-pds">'</span>ember<span class="pl-pds">'</span></span>;

<span class="pl-k">export</span> <span class="pl-k">default</span> Ember.Route.extend({

  <span class="pl-en">init</span>() {
    <span class="pl-k">debugger</span>
  },

  <span class="pl-en">beforeModel</span>(<span class="pl-smi">transition</span>) {
    <span class="pl-k">debugger</span>;
  }

  <span class="pl-en">model</span>(<span class="pl-smi">params</span>, <span class="pl-smi">transition</span>) {
    <span class="pl-k">debugger</span>;
  },

  <span class="pl-en">afterModel</span>(<span class="pl-smi">model</span>, <span class="pl-smi">transition</span>) {
    <span class="pl-k">debugger</span>;
  },

  <span class="pl-en">activate</span>() {
    <span class="pl-k">debugger</span>;
  },

  <span class="pl-en">setupController</span>(<span class="pl-smi">controller</span>, <span class="pl-smi">model</span>) {
    <span class="pl-k">debugger</span>;
  },

  <span class="pl-en">renderTemplate</span>(<span class="pl-smi">controller</span>, <span class="pl-smi">model</span>) {
    <span class="pl-k">debugger</span>;
  }
});</pre>
  </div>

  <p>If you visit the route, where your above experiment code was insterted, and you open inspector console in your web
    browser, the code will stop for debugging in each call. You can see what is the sequence of hooks. The above code
    follows the pattern.</p>

  <ol>
    <li>
      <code>init()</code> <a href="http://emberjs.com/api/classes/Ember.Route.html#method_init">http://emberjs.com/api/classes/Ember.Route.html#method_init</a>
    </li>
    <li>
      <code>beforeModel(transition)</code> <a href="http://emberjs.com/api/classes/Ember.Route.html#method_beforeModel">http://emberjs.com/api/classes/Ember.Route.html#method_beforeModel</a>
    </li>
    <li>
      <code>model(params, transition)</code> <a href="http://emberjs.com/api/classes/Ember.Route.html#method_model">http://emberjs.com/api/classes/Ember.Route.html#method_model</a>
    </li>
    <li>
      <code>afterModel(model, transition)</code> <a
        href="http://emberjs.com/api/classes/Ember.Route.html#method_afterModel">http://emberjs.com/api/classes/Ember.Route.html#method_afterModel</a>
    </li>
    <li>
      <code>activate()</code> <a href="http://emberjs.com/api/classes/Ember.Route.html#method_activate">http://emberjs.com/api/classes/Ember.Route.html#method_activate</a>
    </li>
    <li>
      <code>setupController(controller, model)</code> <a
        href="http://emberjs.com/api/classes/Ember.Route.html#method_setupController">http://emberjs.com/api/classes/Ember.Route.html#method_setupController</a>
    </li>
    <li>
      <code>renderTemplate(controller, model)</code> <a
        href="http://emberjs.com/api/classes/Ember.Route.html#method_renderTemplate">http://emberjs.com/api/classes/Ember.Route.html#method_renderTemplate</a>
    </li>
  </ol>

  <h3>
    <a id="user-content-create-number-boxes-on-adminseeder-page-to-see-how-much-data-we-have-in-our-database"
       class="anchor" href="#create-number-boxes-on-adminseeder-page-to-see-how-much-data-we-have-in-our-database"
       aria-hidden="true"><span class="octicon octicon-link"></span></a>Create number boxes on Admin/Seeder page to see
    how much data we have in our database</h3>

  <p>We use a <code>number-box</code> component for visualizing numbers on our page. Let's create our fancy component.
  </p>

<pre><code>ember g component number-box
</code></pre>

  <p>Setup css classes in the component controller.</p>

  <div class="highlight highlight-source-js"><pre><span class="pl-c">// app/components/number-box.js</span>
<span class="pl-k">import</span> Ember <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>ember<span
        class="pl-pds">'</span></span>;

<span class="pl-k">export</span> <span class="pl-k">default</span> Ember.Component.extend({

  classNames<span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">'</span>panel<span
        class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>panel-warning<span
        class="pl-pds">'</span></span>]

});</pre>
  </div>

  <p>And a little html in our component template:</p>

  <div class="highlight highlight-text-html-basic"><pre><span class="pl-c">&lt;!-- app/templates/components/number-box.hbs --&gt;</span>
&lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>panel-heading<span
        class="pl-pds">"</span></span>&gt;
  &lt;<span class="pl-ent">h3</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>text-center<span
        class="pl-pds">"</span></span>&gt;{{title}}&lt;/<span class="pl-ent">h3</span>&gt;
  &lt;<span class="pl-ent">h1</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>text-center<span
        class="pl-pds">"</span></span>&gt;{{if number number '...'}}&lt;/<span class="pl-ent">h1</span>&gt;
&lt;/<span class="pl-ent">div</span>&gt;
</pre>
  </div>

  <p>As you see, we can pass in our component two attributes: <code>title</code>, <code>number</code>.
    If we have something in <code>number</code> shows that, if not shows three dots.</p>

  <p>Our template is ready, we can use it in our <code>app/templates/admin/seeder.hbs</code></p>

  <div class="highlight highlight-text-html-basic"><pre><span
      class="pl-c">&lt;!-- app/templates/admin/seeder.hbs --&gt;</span>
&lt;<span class="pl-ent">h1</span>&gt;Seeder, our Data Center&lt;/<span class="pl-ent">h1</span>&gt;

&lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>row<span class="pl-pds">"</span></span>&gt;
  &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>col-md-4<span
        class="pl-pds">"</span></span>&gt;{{number-box title="Libraries" number=libraries.length}}&lt;/<span
        class="pl-ent">div</span>&gt;
  &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>col-md-4<span
        class="pl-pds">"</span></span>&gt;{{number-box title="Authors" number=authors.length}}&lt;/<span class="pl-ent">div</span>&gt;
  &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>col-md-4<span
        class="pl-pds">"</span></span>&gt;{{number-box title="Books" number=books.length}}&lt;/<span
        class="pl-ent">div</span>&gt;
&lt;/<span class="pl-ent">div</span>&gt;</pre>
  </div>

  <p>If you open your browser now, you will see three boxes with numbers or with three dots. Remember, we setup <code>libraries</code>,
    <code>authors</code> and <code>books</code> property in our <code>setupController</code> hook, if our
    <code>model</code> hook downloaded our data from the server, those variables are not empty. <code>.length</code>
    method will return a number of the size of that array.</p>

  <h3>
    <a id="user-content-building-forms-to-generate-dummy-data" class="anchor"
       href="#building-forms-to-generate-dummy-data" aria-hidden="true"><span class="octicon octicon-link"></span></a>Building
    forms to generate dummy data.</h3>

  <p>We have to generate two other components what we gonna use in this page. Actually we will use only one component,
    but inside that component we will use an other component.</p>

  <p>Run <code>ember-cli</code> commands in your terminal.</p>

<pre><code>ember g component seeder-block
  ember g component fader-label
</code></pre>

  <p>Insert the following codes in your templates.</p>

  <div class="highlight highlight-source-js"><pre><span class="pl-c">// app/components/seeder-block.js</span>
<span class="pl-k">import</span> Ember <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>ember<span
        class="pl-pds">'</span></span>;

<span class="pl-k">export</span> <span class="pl-k">default</span> Ember.Component.extend({

  actions<span class="pl-k">:</span> {
    <span class="pl-en">generateAction</span>() {
      <span class="pl-v">this</span>.sendAction(<span class="pl-s"><span class="pl-pds">'</span>generateAction<span
        class="pl-pds">'</span></span>);
    },

    <span class="pl-en">deleteAction</span>() {
      <span class="pl-v">this</span>.sendAction(<span class="pl-s"><span class="pl-pds">'</span>deleteAction<span
        class="pl-pds">'</span></span>);
    }
  }
});</pre>
  </div>

  <div class="highlight highlight-text-html-basic"><pre><span class="pl-c">&lt;!-- app/templates/components/seeder-block.hbs --&gt;</span>
&lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>row<span class="pl-pds">"</span></span>&gt;
  &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>col-md-12<span
        class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">h3</span>&gt;{{sectionTitle}}&lt;/<span class="pl-ent">h3</span>&gt;

    &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>row<span
        class="pl-pds">"</span></span>&gt;
      &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>form-horizontal<span class="pl-pds">"</span></span>&gt;
        &lt;<span class="pl-ent">label</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>col-sm-2 control-label<span class="pl-pds">"</span></span>&gt;Number of new records:&lt;/<span
        class="pl-ent">label</span>&gt;
        &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>col-sm-2<span class="pl-pds">"</span></span>&gt;
          {{input value=counter class='form-control'}}
        &lt;/<span class="pl-ent">div</span>&gt;
        &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>col-sm-4<span class="pl-pds">"</span></span>&gt;
          &lt;<span class="pl-ent">button</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>btn btn-primary<span class="pl-pds">"</span></span> {{<span
        class="pl-e">action</span> <span class="pl-s"><span class="pl-pds">'</span>generateAction<span
        class="pl-pds">'</span></span>}}&gt;Generate {{sectionTitle}}&lt;/<span class="pl-ent">button</span>&gt;
          {{#fader-label isShowing=createReady}}Created!{{/fader-label}}
        &lt;/<span class="pl-ent">div</span>&gt;
        &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>col-sm-4<span class="pl-pds">"</span></span>&gt;
          &lt;<span class="pl-ent">button</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>btn btn-danger<span class="pl-pds">"</span></span> {{<span
        class="pl-e">action</span> <span class="pl-s"><span class="pl-pds">'</span>deleteAction<span
        class="pl-pds">'</span></span>}}&gt;Delete All {{sectionTitle}}&lt;/<span class="pl-ent">button</span>&gt;
          {{#fader-label isShowing=deleteReady}}Deleted!{{/fader-label}}
        &lt;/<span class="pl-ent">div</span>&gt;
      &lt;/<span class="pl-ent">div</span>&gt;

    &lt;/<span class="pl-ent">div</span>&gt;
  &lt;/<span class="pl-ent">div</span>&gt;
&lt;/<span class="pl-ent">div</span>&gt;
</pre>
  </div>

  <div class="highlight highlight-source-js"><pre><span class="pl-c">// app/components/fader-label.js</span>
<span class="pl-k">import</span> Ember <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>ember<span
        class="pl-pds">'</span></span>;

<span class="pl-k">export</span> <span class="pl-k">default</span> Ember.Component.extend({
  tagName<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>span<span
        class="pl-pds">'</span></span>,

  classNames<span class="pl-k">:</span> [<span class="pl-s"><span
        class="pl-pds">'</span>label label-success label-fade<span class="pl-pds">'</span></span>],
  classNameBindings<span class="pl-k">:</span> [<span class="pl-s"><span
        class="pl-pds">'</span>isShowing:label-show<span class="pl-pds">'</span></span>],

  isShowing<span class="pl-k">:</span> <span class="pl-c1">false</span>,

  isShowingChanged<span class="pl-k">:</span> Ember.observer(<span class="pl-s"><span
        class="pl-pds">'</span>isShowing<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>() {
    Ember.run.later(()<span class="pl-k"> =&gt;</span> {
      <span class="pl-v">this</span>.set(<span class="pl-s"><span class="pl-pds">'</span>isShowing<span
        class="pl-pds">'</span></span>, <span class="pl-c1">false</span>);
    }, <span class="pl-c1">3000</span>);
  })
});
</pre>
  </div>

  <div class="highlight highlight-text-html-basic"><pre><span class="pl-c">&lt;!-- app/templates/components/fader-label.hbs --&gt;</span>
{{yield}}</pre>
  </div>

  <p>We need also a little scss snippet.</p>

  <div class="highlight highlight-source-css"><pre>// app/styles/app<span class="pl-e">.scss</span>
<span class="pl-k">@import</span> <span class="pl-s"><span class="pl-pds">'</span>bootstrap<span class="pl-pds">'</span></span>;

<span class="pl-ent">body</span> {
  <span class="pl-c1"><span class="pl-c1">padding-top</span></span>: <span class="pl-c1">20<span class="pl-k">px</span></span>;
}

<span class="pl-ent">html</span> {
  <span class="pl-c1"><span class="pl-c1">overflow-y</span></span>: <span class="pl-c1">scroll</span>;
}

<span class="pl-e">.library-item</span> {
  <span class="pl-c1"><span class="pl-c1">min-height</span></span>: <span class="pl-c1">150<span class="pl-k">px</span></span>;
}

<span class="pl-e">.label-fade</span> {
  <span class="pl-c1"><span class="pl-c1">opacity</span></span>: <span class="pl-c1">0</span>;
  @<span class="pl-c1">include</span> <span class="pl-c1"><span class="pl-c1">transition</span></span>(<span
        class="pl-c1">all</span> 0.5<span class="pl-c1">s</span>);
  &amp;.<span class="pl-c1"><span class="pl-c1">label</span>-show</span> {
    <span class="pl-c1"><span class="pl-c1">opacity</span></span>: <span class="pl-c1">1</span>;
  }
}
</pre>
  </div>

  <p>We have our components, let's insert them in <code>seeder.hbs</code></p>

  <div class="highlight highlight-text-html-basic"><pre><span
      class="pl-c">&lt;!-- app/templates/admin/seeder.hbs --&gt;</span>
&lt;<span class="pl-ent">h1</span>&gt;Seeder, our Data Center&lt;/<span class="pl-ent">h1</span>&gt;

&lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span
        class="pl-pds">"</span>row<span class="pl-pds">"</span></span>&gt;
  &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>col-md-4<span
        class="pl-pds">"</span></span>&gt;{{number-box title="Libraries" number=libraries.length}}&lt;/<span
        class="pl-ent">div</span>&gt;
  &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>col-md-4<span
        class="pl-pds">"</span></span>&gt;{{number-box title="Authors" number=authors.length}}&lt;/<span class="pl-ent">div</span>&gt;
  &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>col-md-4<span
        class="pl-pds">"</span></span>&gt;{{number-box title="Books" number=books.length}}&lt;/<span
        class="pl-ent">div</span>&gt;
&lt;/<span class="pl-ent">div</span>&gt;

{{seeder-block
    sectionTitle='Libraries'
    counter=librariesCounter
    generateAction='generateLibraries'
    deleteAction='deleteLibraries'
    createReady=libDone
    deleteReady=libDelDone
}}

{{seeder-block
  sectionTitle='Authors with Books'
  counter=authorCounter
  generateAction='generateBooksAndAuthors'
  deleteAction='deleteBooksAndAuthors'
  createReady=authDone
  deleteReady=authDelDone
}}</pre>
  </div>

  <h3>
    <a id="user-content-install-fakerjs-for-dummy-data" class="anchor" href="#install-fakerjs-for-dummy-data"
       aria-hidden="true"><span class="octicon octicon-link"></span></a>Install <code>faker.js</code> for dummy data
  </h3>

  <p>To generate dummy data we have to install <code>faker.js</code>. <a
      href="https://github.com/johnotander/ember-faker">https://github.com/johnotander/ember-faker</a></p>

<pre><code>ember install ember-faker
</code></pre>

  <p>We import <code>faker</code> in our models, where we extend each of our models with a <code>randomize()</code>
    function for generating dummy data.</p>

  <p>Update your models with the followings.</p>

  <div class="highlight highlight-source-js"><pre><span class="pl-c">// app/models/library.js</span>
<span class="pl-k">import</span> DS <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>ember-data<span
        class="pl-pds">'</span></span>;
<span class="pl-k">import</span> Faker <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>faker<span
        class="pl-pds">'</span></span>;

<span class="pl-k">export</span> <span class="pl-k">default</span> <span class="pl-c1">DS</span>.Model.extend({
  name<span class="pl-k">:</span> <span class="pl-c1">DS</span>.attr(<span class="pl-s"><span class="pl-pds">'</span>string<span
        class="pl-pds">'</span></span>),
  address<span class="pl-k">:</span> <span class="pl-c1">DS</span>.attr(<span class="pl-s"><span class="pl-pds">'</span>string<span
        class="pl-pds">'</span></span>),
  phone<span class="pl-k">:</span> <span class="pl-c1">DS</span>.attr(<span class="pl-s"><span class="pl-pds">'</span>string<span
        class="pl-pds">'</span></span>),

  books<span class="pl-k">:</span> <span class="pl-c1">DS</span>.hasMany(<span class="pl-s"><span
        class="pl-pds">'</span>book<span class="pl-pds">'</span></span>, {inverse<span class="pl-k">:</span> <span
        class="pl-s"><span class="pl-pds">'</span>library<span class="pl-pds">'</span></span>, async<span
        class="pl-k">:</span> <span class="pl-c1">true</span>}),

  isValid<span class="pl-k">:</span> Ember.computed.notEmpty(<span class="pl-s"><span class="pl-pds">'</span>name<span
        class="pl-pds">'</span></span>),

  <span class="pl-en">randomize</span>() {
    <span class="pl-v">this</span>.set(<span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>, Faker.company.companyName() <span
        class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">'</span> Library<span
        class="pl-pds">'</span></span>);
    <span class="pl-v">this</span>.set(<span class="pl-s"><span class="pl-pds">'</span>address<span
        class="pl-pds">'</span></span>, <span class="pl-v">this</span>._fullAddress());
    <span class="pl-v">this</span>.set(<span class="pl-s"><span class="pl-pds">'</span>phone<span
        class="pl-pds">'</span></span>, Faker.phone.phoneNumber());

    <span class="pl-c">// If you would like to use in chain.</span>
    <span class="pl-k">return</span> <span class="pl-v">this</span>;
  },

  <span class="pl-en">_fullAddress</span>() {
    <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">`</span><span class="pl-s1"><span
        class="pl-pse">${</span>Faker.address.streetAddress()<span class="pl-pse">}</span></span>, <span
        class="pl-s1"><span class="pl-pse">${</span>Faker.address.city()<span class="pl-pse">}</span></span><span
        class="pl-pds">`</span></span>;
  }
});
</pre>
  </div>

  <div class="highlight highlight-source-js"><pre><span class="pl-c">// app/models/book.js</span>
<span class="pl-k">import</span> DS <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>ember-data<span
        class="pl-pds">'</span></span>;
<span class="pl-k">import</span> Faker <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>faker<span
        class="pl-pds">'</span></span>;

<span class="pl-k">export</span> <span class="pl-k">default</span> <span class="pl-c1">DS</span>.Model.extend({

  title<span class="pl-k">:</span>        <span class="pl-c1">DS</span>.attr(<span class="pl-s"><span
        class="pl-pds">'</span>string<span class="pl-pds">'</span></span>),
  releaseYear<span class="pl-k">:</span>  <span class="pl-c1">DS</span>.attr(<span class="pl-s"><span
        class="pl-pds">'</span>date<span class="pl-pds">'</span></span>),

  author<span class="pl-k">:</span>       <span class="pl-c1">DS</span>.belongsTo(<span class="pl-s"><span
        class="pl-pds">'</span>author<span class="pl-pds">'</span></span>, {inverse<span class="pl-k">:</span> <span
        class="pl-s"><span class="pl-pds">'</span>books<span class="pl-pds">'</span></span>, async<span
        class="pl-k">:</span> <span class="pl-c1">true</span>}),
  library<span class="pl-k">:</span>      <span class="pl-c1">DS</span>.belongsTo(<span class="pl-s"><span
        class="pl-pds">'</span>library<span class="pl-pds">'</span></span>, {inverse<span class="pl-k">:</span> <span
        class="pl-s"><span class="pl-pds">'</span>books<span class="pl-pds">'</span></span>, async<span
        class="pl-k">:</span> <span class="pl-c1">true</span>}),

  <span class="pl-en">randomize</span>(<span class="pl-smi">author</span>, <span class="pl-smi">library</span>) {
    <span class="pl-v">this</span>.set(<span class="pl-s"><span class="pl-pds">'</span>title<span
        class="pl-pds">'</span></span>, <span class="pl-v">this</span>._bookTitle());
    <span class="pl-v">this</span>.set(<span class="pl-s"><span class="pl-pds">'</span>author<span
        class="pl-pds">'</span></span>, author);
    <span class="pl-v">this</span>.set(<span class="pl-s"><span class="pl-pds">'</span>releaseYear<span
        class="pl-pds">'</span></span>, <span class="pl-v">this</span>._randomYear());
    <span class="pl-v">this</span>.set(<span class="pl-s"><span class="pl-pds">'</span>library<span
        class="pl-pds">'</span></span>, library);

    <span class="pl-k">return</span> <span class="pl-v">this</span>;
  },

  <span class="pl-en">_bookTitle</span>() {
    <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">`</span><span class="pl-s1"><span
        class="pl-pse">${</span>Faker.commerce.productName()<span class="pl-pse">}</span></span> Cookbook<span
        class="pl-pds">`</span></span>;
  },

  <span class="pl-en">_randomYear</span>() {
    <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-en">Date</span>(<span class="pl-v">this</span>._getRandomArbitrary(<span
        class="pl-c1">1900</span>, <span class="pl-c1">2015</span>));
  },

  <span class="pl-en">_getRandomArbitrary</span>(<span class="pl-smi">min</span>, <span class="pl-smi">max</span>) {
    <span class="pl-k">return</span> <span class="pl-c1">Math</span>.<span class="pl-c1">random</span>() <span
        class="pl-k">*</span> (max <span class="pl-k">-</span> min) <span class="pl-k">+</span> min;
  }
});
</pre>
  </div>

  <div class="highlight highlight-source-js"><pre><span class="pl-c">// app/models/author.js</span>
<span class="pl-k">import</span> DS <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>ember-data<span
        class="pl-pds">'</span></span>;
<span class="pl-k">import</span> Faker <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>faker<span
        class="pl-pds">'</span></span>;

<span class="pl-k">export</span> <span class="pl-k">default</span> <span class="pl-c1">DS</span>.Model.extend({

  name<span class="pl-k">:</span> <span class="pl-c1">DS</span>.attr(<span class="pl-s"><span class="pl-pds">'</span>string<span
        class="pl-pds">'</span></span>),

  books<span class="pl-k">:</span> <span class="pl-c1">DS</span>.hasMany(<span class="pl-s"><span
        class="pl-pds">'</span>book<span class="pl-pds">'</span></span>, {inverse<span class="pl-k">:</span> <span
        class="pl-s"><span class="pl-pds">'</span>author<span class="pl-pds">'</span></span>}),

  <span class="pl-en">randomize</span>() {
    <span class="pl-v">this</span>.set(<span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>, Faker.<span
        class="pl-c1">name</span>.findName());
    <span class="pl-k">return</span> <span class="pl-v">this</span>;
  }

});</pre>
  </div>

  <p>We will implement our actions in our controller.</p>

  <div class="highlight highlight-source-js"><pre><span class="pl-c">// app/controllers/admin/seeder.js</span>
<span class="pl-k">import</span> Ember <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>ember<span
        class="pl-pds">'</span></span>;
<span class="pl-k">import</span> Faker <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>faker<span
        class="pl-pds">'</span></span>;

<span class="pl-k">export</span> <span class="pl-k">default</span> Ember.Controller.extend({

  libraries<span class="pl-k">:</span> [],
  books<span class="pl-k">:</span> [],
  authors<span class="pl-k">:</span> [],

  actions<span class="pl-k">:</span> {

    <span class="pl-en">generateLibraries</span>() {
      <span class="pl-k">const</span> <span class="pl-c1">counter</span> <span class="pl-k">=</span> <span
        class="pl-c1">parseInt</span>(<span class="pl-v">this</span>.get(<span class="pl-s"><span
        class="pl-pds">'</span>librariesCounter<span class="pl-pds">'</span></span>));

      <span class="pl-k">for</span> (<span class="pl-k">let</span> i <span class="pl-k">=</span> <span
        class="pl-c1">0</span>; i <span class="pl-k">&lt;</span> counter; i<span class="pl-k">++</span>) {
        <span class="pl-v">this</span>.store.createRecord(<span class="pl-s"><span class="pl-pds">'</span>library<span
        class="pl-pds">'</span></span>).randomize().save().then(()<span class="pl-k"> =&gt;</span> {
          <span class="pl-k">if</span> (i <span class="pl-k">===</span> counter<span class="pl-k">-</span><span
        class="pl-c1">1</span>) {
            <span class="pl-v">this</span>.set(<span class="pl-s"><span class="pl-pds">'</span>librariesCounter<span
        class="pl-pds">'</span></span>, <span class="pl-c1">0</span>);
            <span class="pl-v">this</span>.set(<span class="pl-s"><span class="pl-pds">'</span>libDone<span
        class="pl-pds">'</span></span>, <span class="pl-c1">true</span>);
          }
        });
      }
    },

    <span class="pl-en">deleteLibraries</span>() {
      <span class="pl-v">this</span>._destroyAll(<span class="pl-v">this</span>.get(<span class="pl-s"><span
        class="pl-pds">'</span>libraries<span class="pl-pds">'</span></span>));

      <span class="pl-v">this</span>.set(<span class="pl-s"><span class="pl-pds">'</span>libDelDone<span class="pl-pds">'</span></span>, <span
        class="pl-c1">true</span>);
    },

    <span class="pl-en">generateBooksAndAuthors</span>() {
      <span class="pl-k">const</span> <span class="pl-c1">counter</span> <span class="pl-k">=</span> <span
        class="pl-c1">parseInt</span>(<span class="pl-v">this</span>.get(<span class="pl-s"><span
        class="pl-pds">'</span>authorCounter<span class="pl-pds">'</span></span>));

      <span class="pl-k">for</span> (<span class="pl-k">let</span> i <span class="pl-k">=</span> <span
        class="pl-c1">0</span>; i <span class="pl-k">&lt;</span> counter; i<span class="pl-k">++</span>) {
        <span class="pl-k">let</span> newAuthor <span class="pl-k">=</span> <span class="pl-v">this</span>.store.createRecord(<span
        class="pl-s"><span class="pl-pds">'</span>author<span class="pl-pds">'</span></span>);
        newAuthor.randomize()
          .save().then(()<span class="pl-k"> =&gt;</span> {
             <span class="pl-k">if</span> (i <span class="pl-k">===</span> counter<span class="pl-k">-</span><span
        class="pl-c1">1</span>) {
               <span class="pl-v">this</span>.set(<span class="pl-s"><span class="pl-pds">'</span>authorCounter<span
        class="pl-pds">'</span></span>, <span class="pl-c1">0</span>);
               <span class="pl-v">this</span>.set(<span class="pl-s"><span class="pl-pds">'</span>authDone<span
        class="pl-pds">'</span></span>, <span class="pl-c1">true</span>);
             }
          }
        );

        <span class="pl-v">this</span>._generateSomeBooks(newAuthor);
      }
    },

    <span class="pl-en">deleteBooksAndAuthors</span>() {
      <span class="pl-v">this</span>._destroyAll(<span class="pl-v">this</span>.get(<span class="pl-s"><span
        class="pl-pds">'</span>books<span class="pl-pds">'</span></span>));
      <span class="pl-v">this</span>._destroyAll(<span class="pl-v">this</span>.get(<span class="pl-s"><span
        class="pl-pds">'</span>authors<span class="pl-pds">'</span></span>));

      <span class="pl-v">this</span>.set(<span class="pl-s"><span class="pl-pds">'</span>authDelDone<span
        class="pl-pds">'</span></span>, <span class="pl-c1">true</span>);
    }
  },

  <span class="pl-c">// Private methods</span>

  <span class="pl-en">_generateSomeBooks</span>(<span class="pl-smi">author</span>) {
    <span class="pl-k">const</span> <span class="pl-c1">bookCounter</span> <span class="pl-k">=</span> Faker.random.number(<span
        class="pl-c1">10</span>);

    <span class="pl-k">for</span> (<span class="pl-k">let</span> j <span class="pl-k">=</span> <span
        class="pl-c1">0</span>; j <span class="pl-k">&lt;</span> bookCounter; j<span class="pl-k">++</span>) {
      <span class="pl-k">const</span> <span class="pl-c1">library</span> <span class="pl-k">=</span> <span class="pl-v">this</span>._selectRandomLibrary();
      <span class="pl-v">this</span>.store.createRecord(<span class="pl-s"><span class="pl-pds">'</span>book<span
        class="pl-pds">'</span></span>)
        .randomize(author, library)
        .save();
      author.save();
      library.save();
    }
  },

  <span class="pl-en">_selectRandomLibrary</span>() {
    <span class="pl-k">const</span> <span class="pl-c1">libraries</span> <span class="pl-k">=</span> <span class="pl-v">this</span>.get(<span
        class="pl-s"><span class="pl-pds">'</span>libraries<span class="pl-pds">'</span></span>);
    <span class="pl-k">const</span> <span class="pl-c1">librariesCounter</span> <span class="pl-k">=</span> libraries.get(<span
        class="pl-s"><span class="pl-pds">'</span>length<span class="pl-pds">'</span></span>);

    <span class="pl-c">// Create a new array form ids</span>
    <span class="pl-k">const</span> <span class="pl-c1">libraryIds</span> <span
        class="pl-k">=</span> libraries.map((<span class="pl-smi">lib</span>)<span class="pl-k"> =&gt;</span> {<span
        class="pl-k">return</span> lib.get(<span class="pl-s"><span class="pl-pds">'</span>id<span
        class="pl-pds">'</span></span>);});
    <span class="pl-k">const</span> <span class="pl-c1">randomNumber</span> <span class="pl-k">=</span> Faker.random.number(librariesCounter<span
        class="pl-k">-</span><span class="pl-c1">1</span>);

    <span class="pl-k">const</span> <span class="pl-c1">randomLibrary</span> <span class="pl-k">=</span> libraries.findBy(<span
        class="pl-s"><span class="pl-pds">'</span>id<span class="pl-pds">'</span></span>, libraryIds[randomNumber]);
    <span class="pl-k">return</span> randomLibrary;
  },

  <span class="pl-en">_destroyAll</span>(<span class="pl-smi">records</span>) {
    records.forEach((<span class="pl-smi">item</span>)<span class="pl-k"> =&gt;</span> {
      item.destroyRecord();
    });
  }

});</pre>
  </div>
</article>
<script>
  (function (i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    i[r] = i[r] || function () {
          (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
    a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m)
  })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

  ga('create', 'UA-68981696-1', 'auto');
  ga('send', 'pageview');

</script>

</body>
</html>